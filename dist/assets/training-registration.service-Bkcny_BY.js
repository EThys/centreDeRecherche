import{U as s}from"./index-Bp9BzeJn.js";const c="/training-registrations",i=e=>{if(e==null)return e;if(Array.isArray(e))return e.map(a=>i(a));if(typeof e!="object")return e;const t={};for(const a in e)if(e.hasOwnProperty(a)){const n=a.replace(/_([a-z])/g,(r,o)=>o.toUpperCase());t[n]=i(e[a])}return t},g={async submitRegistration(e){try{const t={name:e.name,email:e.email,phone:e.phone,program:e.program,program_name:e.programName,message:e.message,company:e.company,position:e.position},a=await s.post(c,t);let n=a.data;return a.data&&typeof a.data=="object"&&"data"in a.data&&(n=a.data.data),i(n)}catch(t){throw console.error("Erreur lors de l'inscription Ã  la formation:",t),t}},async getRegistrations(e){const t={};if(t.per_page=e?.limit||100,e){for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];if(a!=="limit"&&n!==void 0&&n!==null&&n!==""){let r=a.replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`);t[r]=n}}}console.log("ðŸ“š Training Registration Service - Filtres envoyÃ©s:",t);try{const a=await s.get(c,t);console.log("ðŸ“š Training Registration Service - RÃ©ponse reÃ§ue:",a);let n=[];a&&a.data?Array.isArray(a.data)?n=a.data:typeof a.data=="object"&&"data"in a.data&&(n=Array.isArray(a.data.data)?a.data.data:[a.data.data]):Array.isArray(a)&&(n=a),console.log("ðŸ“š Training Registration Service - DonnÃ©es extraites:",n.length);const r=n.map(o=>i(o));return console.log("ðŸ“š Training Registration Service - DonnÃ©es converties:",r.length),{data:r,pagination:a?.pagination||a?.data?.pagination||{page:1,limit:10,total:r.length,totalPages:1}}}catch(a){throw console.error("Erreur lors de la rÃ©cupÃ©ration des inscriptions:",a),a}},async getRegistrationById(e){const t=await s.get(`${c}/${e}`);return i(t.data)},async updateRegistration(e,t){const a={};for(const r in t)if(t.hasOwnProperty(r)){const o=r.replace(/[A-Z]/g,p=>`_${p.toLowerCase()}`);a[o]=t[r]}const n=await s.put(`${c}/${e}`,a);return i(n.data)},async deleteRegistration(e){await s.delete(`${c}/${e}`)}};export{g as t};
