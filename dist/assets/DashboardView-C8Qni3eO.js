import{k as ue,r as m,l as I,m as B,n as ee,p as Z,q as ae,s as te,u as se,v as le,d as H,w as re,o as W,c as u,e,x as y,t as n,y as X,z as E,A as N,B as J,f as O,C as de,D as ne,E as M,G,g as i,H as z,I as V,J as ce,a as pe,K as ve,L as K,M as ge,O as me,h as be}from"./index-BdamKsba.js";const xe=ue("dashboard",()=>{const S=m({events:0,actualities:0,photos:0,messages:0}),h=m({events:0,actualities:0,photos:0,messages:0}),d=m({newsletter:0,financing:0,training:0,publications:0,eventRegistrations:0}),g=m(!1),v=m(null),c=3e4,b=I(()=>{const w=(x,C)=>{if(C===0)return x>0?"+100%":"0%";const D=(x-C)/C*100;return`${D>=0?"+":""}${Math.round(D)}%`};return[{id:"events",label:"√âv√©nements",value:S.value.events.toString(),change:w(S.value.events,h.value.events),icon:"fas fa-calendar-alt",bgColor:"bg-gradient-to-br from-blue-100 to-blue-200",iconColor:"text-blue-600",badgeColor:S.value.events>=h.value.events?"bg-green-100 text-green-700":"bg-red-100 text-red-700"},{id:"actualites",label:"Actualit√©s",value:S.value.actualities.toString(),change:w(S.value.actualities,h.value.actualities),icon:"fas fa-newspaper",bgColor:"bg-gradient-to-br from-indigo-100 to-indigo-200",iconColor:"text-indigo-600",badgeColor:S.value.actualities>=h.value.actualities?"bg-green-100 text-green-700":"bg-red-100 text-red-700"},{id:"messages",label:"Messages",value:S.value.messages.toString(),change:w(S.value.messages,h.value.messages),icon:"fas fa-envelope",bgColor:"bg-gradient-to-br from-purple-100 to-purple-200",iconColor:"text-purple-600",badgeColor:S.value.messages>=h.value.messages?"bg-green-100 text-green-700":"bg-red-100 text-red-700"},{id:"photos",label:"Photos",value:S.value.photos.toString(),change:w(S.value.photos,h.value.photos),icon:"fas fa-images",bgColor:"bg-gradient-to-br from-pink-100 to-pink-200",iconColor:"text-pink-600",badgeColor:S.value.photos>=h.value.photos?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}]}),_=I(()=>[{id:"overview",label:"Vue d'ensemble",icon:"fas fa-home",badge:null},{id:"events",label:"√âv√©nements",icon:"fas fa-calendar-alt",badge:null},{id:"event-registrations",label:"Inscriptions √âv√©nements",icon:"fas fa-user-check",badge:d.value.eventRegistrations>0?d.value.eventRegistrations.toString():null},{id:"actualites",label:"Actualit√©s",icon:"fas fa-newspaper",badge:null},{id:"gallery",label:"Galerie",icon:"fas fa-images",badge:null},{id:"newsletter",label:"Newsletter",icon:"fas fa-envelope",badge:d.value.newsletter>0?d.value.newsletter.toString():null},{id:"financing",label:"Demandes Financement",icon:"fas fa-hand-holding-usd",badge:d.value.financing>0?d.value.financing.toString():null},{id:"training",label:"Inscriptions Formation",icon:"fas fa-user-graduate",badge:d.value.training>0?d.value.training.toString():null},{id:"publications",label:"Demandes Publication",icon:"fas fa-file-alt",badge:d.value.publications>0?d.value.publications.toString():null}]),$=I(()=>v.value?Date.now()-v.value<c:!1),r=async(w=!1)=>{if(!(!w&&$.value&&S.value.events>0)&&!g.value)try{g.value=!0,h.value={...S.value};const[x,C,D,T]=await Promise.allSettled([B.getEvents({limit:1e3}),ee.getActualities({limit:1e3}),Z.getPhotos({limit:1e3}),ae.getAllSubscribers({limit:1e3})]);x.status==="fulfilled"?S.value.events=x.value.pagination?.total||x.value.data.length:console.error("Erreur lors du chargement des √©v√©nements:",x.reason),C.status==="fulfilled"?S.value.actualities=C.value.pagination?.total||C.value.data.length:console.error("Erreur lors du chargement des actualit√©s:",C.reason),D.status==="fulfilled"?S.value.photos=D.value.pagination?.total||D.value.data.length:console.error("Erreur lors du chargement des photos:",D.reason),T.status==="fulfilled"?S.value.messages=T.value.data.length:T.status==="rejected"&&console.error("Erreur lors du chargement des messages:",T.reason),v.value=Date.now()}catch(x){console.error("Erreur lors du chargement des stats:",x)}finally{g.value=!1}},f=async(w=!1)=>{if(!(!w&&$.value&&d.value.newsletter>=0))try{const[x,C,D,T,j,p]=await Promise.allSettled([ae.getAllSubscribers({status:"active",limit:1e3}),te.getRequests({status:"submitted",limit:1e3}),te.getRequests({status:"under-review",limit:1e3}),se.getRegistrations({status:"pending",limit:1e3}),le.getRequests({status:"pending",limit:1e3}),B.getAllRegistrations({status:"pending",limit:1e3})]);if(x.status==="fulfilled"?d.value.newsletter=x.value.data.length:x.status==="rejected"&&console.error("Erreur lors du chargement des newsletters:",x.reason),C.status==="fulfilled"&&D.status==="fulfilled")d.value.financing=C.value.data.length+D.value.data.length;else{const o=C.status==="rejected"?C.reason:D.status==="rejected"?D.reason:"Erreur inconnue";console.error("Erreur lors du chargement des demandes de financement:",o)}T.status==="fulfilled"?d.value.training=T.value.data.length:T.status==="rejected"&&console.error("Erreur lors du chargement des inscriptions aux formations:",T.reason),j.status==="fulfilled"?d.value.publications=j.value.data.length:j.status==="rejected"&&console.error("Erreur lors du chargement des demandes de publication:",j.reason),p.status==="fulfilled"?d.value.eventRegistrations=p.value.data.length:console.error("Erreur lors du chargement des inscriptions aux √©v√©nements:",p.reason),v.value||(v.value=Date.now())}catch(x){console.error("Erreur lors du chargement des compteurs:",x)}};return{stats:S,previousStats:h,notificationCounts:d,isLoading:g,statsWithChange:b,menuItems:_,isCacheValid:$,loadOverviewStats:r,loadNotificationCounts:f,refreshAll:async()=>{await Promise.all([r(!0),f(!0)])},reset:()=>{S.value={events:0,actualities:0,photos:0,messages:0},h.value={events:0,actualities:0,photos:0,messages:0},d.value={newsletter:0,financing:0,training:0,publications:0,eventRegistrations:0},v.value=null}}}),fe={class:"space-y-6"},ye={class:"flex items-center justify-between"},he={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4"},we={class:"flex items-center gap-2"},$e={key:1,class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100"},ke={class:"text-xl font-bold text-gray-900 mb-6"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ce=["min"],De={key:0,class:"mt-3"},Ee=["src"],Ae={key:1,class:"mt-3"},Re=["src"],Te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Se=["min"],je={class:"flex items-center gap-3 mt-2"},Pe={class:"flex items-center gap-2 cursor-pointer"},Ne={class:"flex items-center gap-4 mt-2"},Fe={class:"flex items-center gap-2 cursor-pointer"},Ve={class:"flex items-center gap-2 cursor-pointer"},Ie={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ze={class:"flex gap-4"},Ue=["disabled"],Le={key:0,class:"fas fa-spinner fa-spin"},Me=["disabled"],Ge={class:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"},Oe={key:0,class:"p-12 text-center"},qe={key:1,class:"overflow-x-auto"},Be={class:"w-full"},Je={class:"divide-y divide-gray-200"},Ye={class:"px-6 py-4"},He={class:"font-medium text-gray-900"},We={class:"text-sm text-gray-500 mt-1"},Qe={class:"px-6 py-4 text-gray-600"},Ke={class:"text-xs text-gray-500"},Xe={class:"px-6 py-4"},Ze={class:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-700"},et={class:"px-6 py-4 text-gray-600"},tt={class:"px-6 py-4"},st={class:"flex items-center justify-center gap-2"},lt=["onClick","disabled"],at=["onClick","disabled"],ot={key:0},rt=H({__name:"DashboardEvents",setup(S){const h=re.useToast(),d=m(!1),g=m(null),v=m([]),c=m(!1),b=m(null),_=m(null),$=m(null),r=m({title:"",startDate:"",startTime:"",location:"",description:"",image:"",type:"conference",registrationRequired:!1,endDate:"",endTime:"",address:"",content:"",isFree:!0,price:void 0,currency:"USD"}),f=async()=>{c.value=!0,b.value=null;try{console.log("üîÑ Chargement des √©v√©nements...");const t=await B.getEvents();console.log("‚úÖ R√©ponse re√ßue:",t),t&&t.data?(console.log(`üìä ${t.data.length} √©v√©nement(s) charg√©(s)`),v.value=t.data):(console.warn("‚ö†Ô∏è Aucune donn√©e dans la r√©ponse:",t),v.value=[],b.value="Aucune donn√©e re√ßue du serveur")}catch(t){console.error("‚ùå Erreur compl√®te lors du chargement:",t),console.error("D√©tails:",{message:t.message,status:t.status,errors:t.errors,stack:t.stack}),t.status===500?b.value="Erreur serveur. V√©rifiez que le backend est d√©marr√© et que la base de donn√©es est accessible.":t.status===404?b.value="Endpoint non trouv√©. V√©rifiez la configuration de l'API.":t.status===0||t.message?.includes("fetch")||t.message?.includes("Failed to fetch")?b.value="Impossible de se connecter au serveur. V√©rifiez que le backend est accessible.":b.value=t.message||(t.errors?JSON.stringify(t.errors):"Erreur lors du chargement des √©v√©nements"),v.value=[]}finally{c.value=!1}},F=t=>{const s=t.target;if(s.files&&s.files[0]){_.value=s.files[0];const a=new FileReader;a.onload=k=>{$.value=k.target?.result},a.readAsDataURL(_.value)}},A=async()=>{c.value=!0,b.value=null;try{const t=r.value.startDate?.trim()||"",s=r.value.startTime?.trim()||"";if(!t){b.value="Veuillez entrer une date de d√©but",c.value=!1;return}if(!D(t)){b.value="Veuillez entrer une date de d√©but valide (format YYYY-MM-DD)",c.value=!1;return}if(!s){b.value="Veuillez entrer une heure de d√©but",c.value=!1;return}if(!T(s)){b.value="Veuillez entrer une heure de d√©but valide (format HH:MM)",c.value=!1;return}if(r.value.endDate&&r.value.endDate.trim()!==""){if(!D(r.value.endDate)){b.value="Veuillez entrer une date de fin valide",c.value=!1;return}const P=new Date(r.value.startDate);if(new Date(r.value.endDate)<P){b.value="La date de fin doit √™tre post√©rieure √† la date de d√©but",c.value=!1;return}}if(r.value.endTime&&r.value.endTime.trim()!==""){if(!T(r.value.endTime)){b.value="Veuillez entrer une heure de fin valide (format HH:MM)",c.value=!1;return}if(r.value.endDate===r.value.startDate){const P=r.value.startTime.split(":").map(Number),U=r.value.endTime.split(":").map(Number),L=P[0]*60+P[1];if(U[0]*60+U[1]<=L){b.value="L'heure de fin doit √™tre post√©rieure √† l'heure de d√©but",c.value=!1;return}}}const a=w(t),k=C(s);if(r.value.isFree===!1){if(!r.value.price||r.value.price<=0){b.value="Veuillez entrer un prix valide pour un √©v√©nement payant",c.value=!1;return}if(!r.value.currency){b.value="Veuillez s√©lectionner une devise pour un √©v√©nement payant",c.value=!1;return}}const R={title:r.value.title.trim(),description:r.value.description.trim(),type:r.value.type,status:"upcoming",image:r.value.image||"",startDate:a,startTime:k,location:r.value.location.trim(),registrationRequired:r.value.registrationRequired};if(r.value.isFree===!1&&r.value.price&&r.value.price>0?(R.price=r.value.price,R.currency=r.value.currency||"USD"):R.price=0,r.value.content&&r.value.content.trim()!==""&&(R.content=r.value.content.trim()),r.value.endDate&&r.value.endDate.trim()!==""&&(R.endDate=w(r.value.endDate)),r.value.endTime&&r.value.endTime.trim()!==""&&(R.endTime=C(r.value.endTime)),r.value.address&&r.value.address.trim()!==""&&(R.address=r.value.address.trim()),g.value){const P=await B.updateEvent(g.value.id,R,_.value||void 0),U=v.value.findIndex(L=>L.id===g.value?.id);U!==-1?v.value[U]=P:await f(),h.open({message:"‚úÖ √âv√©nement modifi√© avec succ√®s !",type:"success",position:"top-right",duration:5e3})}else{const P=await B.createEvent(R,_.value||void 0);v.value.unshift(P),h.open({message:"‚úÖ √âv√©nement cr√©√© et publi√© avec succ√®s !",type:"success",position:"top-right",duration:5e3})}o(),window.dispatchEvent(new CustomEvent("dashboard:update-stats"))}catch(t){console.error("Erreur compl√®te:",t);let s="Erreur lors de la sauvegarde de l'√©v√©nement. V√©rifiez la console pour plus de d√©tails.";t.errors?(s=`Erreurs de validation: ${Object.values(t.errors).flat().join(", ")}`,b.value=s):t.message?(s=t.message,b.value=t.message):b.value=s,h.open({message:`‚ùå ${s}`,type:"error",position:"top-right",duration:6e3})}finally{c.value=!1}},w=t=>{if(!t||typeof t!="string")return"";const s=t.trim();if(!s)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(s))return s;const a=new Date(s);if(isNaN(a.getTime())){const U=s.split("-");if(U.length===3){const L=parseInt(U[0],10),q=parseInt(U[1],10),Y=parseInt(U[2],10);if(!isNaN(L)&&!isNaN(q)&&!isNaN(Y)){const Q=new Date(L,q-1,Y);if(Q.getFullYear()===L&&Q.getMonth()===q-1&&Q.getDate()===Y)return`${L}-${String(q).padStart(2,"0")}-${String(Y).padStart(2,"0")}`}}return""}const k=a.getFullYear(),R=String(a.getMonth()+1).padStart(2,"0"),P=String(a.getDate()).padStart(2,"0");return`${k}-${R}-${P}`}catch(a){return console.warn("Erreur lors de la normalisation de la date:",t,a),""}},x=t=>{if(!t)return"";const s=t.trim();if(s.includes(":")){const a=s.split(":");if(a.length>=2){const k=parseInt(a[0],10),R=a[1].padStart(2,"0");return`${k}:${R}`}}return s},C=t=>{if(!t||typeof t!="string")return"";const s=t.trim();if(!s)return"";try{if(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(s)||/^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/.test(s))return s.substring(0,5);const a=new Date(s);if(!isNaN(a.getTime())){const k=String(a.getHours()).padStart(2,"0"),R=String(a.getMinutes()).padStart(2,"0");return`${k}:${R}`}return""}catch(a){return console.warn("Erreur lors de la normalisation de l'heure:",t,a),""}},D=t=>{if(!t||typeof t!="string")return!1;const s=t.trim();if(!s)return!1;if(/^\d{4}-\d{2}-\d{2}$/.test(s)){const k=new Date(s);return!isNaN(k.getTime())}const a=new Date(s);return!isNaN(a.getTime())},T=t=>{if(!t||typeof t!="string")return!1;const s=t.trim();return s?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(s):!1},j=t=>{try{g.value=t;const s=!t.price||t.price===0;r.value={title:t.title||"",startDate:w(t.startDate),startTime:C(t.startTime),location:t.location||"",description:t.description||"",image:t.image||"",type:t.type||"conference",registrationRequired:t.registrationRequired||!1,endDate:w(t.endDate),endTime:C(t.endTime),address:t.address||"",content:t.content||"",isFree:s,price:t.price&&t.price>0?t.price:void 0,currency:t.currency||"USD"},_.value=null,$.value=t.image||null,d.value=!0}catch(s){console.error("Erreur lors de l'√©dition de l'√©v√©nement:",s),b.value="Erreur lors du chargement des donn√©es de l'√©v√©nement"}},p=async t=>{if(confirm("√ätes-vous s√ªr de vouloir supprimer cet √©v√©nement ?")){c.value=!0,b.value=null;try{await B.deleteEvent(t),await f(),h.open({message:"‚úÖ √âv√©nement supprim√© avec succ√®s !",type:"success",position:"top-right",duration:5e3}),window.dispatchEvent(new CustomEvent("dashboard:update-stats"))}catch(s){const a=s.message||"Erreur lors de la suppression de l'√©v√©nement";b.value=a,console.error("Erreur:",s),h.open({message:`‚ùå ${a}`,type:"error",position:"top-right",duration:6e3})}finally{c.value=!1}}},o=()=>{d.value=!1,g.value=null,_.value=null,$.value=null,r.value={title:"",startDate:"",startTime:"",location:"",description:"",image:"",type:"conference",registrationRequired:!1,endDate:"",endTime:"",address:"",content:"",isFree:!0,price:void 0,currency:"USD"}},l=t=>t?new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A";return W(()=>{f()}),(t,s)=>(i(),u("div",fe,[e("div",ye,[s[21]||(s[21]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Gestion des √âv√©nements"),e("p",{class:"text-gray-600 mt-1"},"Cr√©ez et g√©rez les √©v√©nements du centre")],-1)),e("button",{onClick:s[0]||(s[0]=a=>{d.value=!0,g.value=null}),class:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"},[...s[20]||(s[20]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Nouvel √©v√©nement",-1)])])]),b.value?(i(),u("div",he,[e("div",we,[s[22]||(s[22]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(b.value),1)]),b.value.includes("serveur")||b.value.includes("connecter")?(i(),u("button",{key:0,onClick:f,class:"mt-3 text-sm text-red-600 hover:text-red-800 underline"}," R√©essayer ")):y("",!0)])):y("",!0),d.value?(i(),u("div",$e,[e("h3",ke,n(g.value?"Modifier l'√©v√©nement":"Nouvel √©v√©nement"),1),e("form",{onSubmit:X(A,["prevent"]),class:"space-y-6",novalidate:""},[e("div",_e,[e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre *",-1)),E(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>r.value.title=a),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Titre de l'√©v√©nement"},null,512),[[N,r.value.title]])]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de d√©but *",-1)),E(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>r.value.startDate=a),type:"date",required:"",min:new Date().toISOString().split("T")[0],class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",onInput:s[3]||(s[3]=a=>r.value.startDate=a.target.value)},null,40,Ce),[[N,r.value.startDate]])]),e("div",null,[s[25]||(s[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Heure de d√©but *",-1)),E(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>r.value.startTime=a),type:"time",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",onInput:s[5]||(s[5]=a=>r.value.startTime=a.target.value)},null,544),[[N,r.value.startTime]])]),e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type *",-1)),E(e("select",{"onUpdate:modelValue":s[6]||(s[6]=a=>r.value.type=a),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...s[26]||(s[26]=[O('<option value="conference">Conf√©rence</option><option value="workshop">Atelier</option><option value="seminar">S√©minaire</option><option value="webinar">Webinaire</option><option value="other">Autre</option>',5)])],512),[[J,r.value.type]])]),e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu *",-1)),E(e("input",{"onUpdate:modelValue":s[7]||(s[7]=a=>r.value.location=a),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Lieu de l'√©v√©nement"},null,512),[[N,r.value.location]])]),e("div",null,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image",-1)),e("input",{onChange:F,type:"file",accept:"image/*",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,32),s[31]||(s[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats accept√©s: JPEG, PNG, JPG, GIF (max 2MB)",-1)),$.value?(i(),u("div",De,[e("img",{src:$.value,alt:"Preview",class:"w-32 h-32 object-cover rounded-lg border border-gray-200"},null,8,Ee)])):g.value&&r.value.image?(i(),u("div",Ae,[e("img",{src:r.value.image,alt:"Image actuelle",class:"w-32 h-32 object-cover rounded-lg border border-gray-200"},null,8,Re),s[29]||(s[29]=e("p",{class:"text-xs text-gray-500 mt-1"},"Image actuelle",-1))])):y("",!0)])]),e("div",null,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description *",-1)),E(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=a=>r.value.description=a),required:"",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"Description de l'√©v√©nement..."},null,512),[[N,r.value.description]])]),e("div",null,[s[33]||(s[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contenu d√©taill√©",-1)),E(e("textarea",{"onUpdate:modelValue":s[9]||(s[9]=a=>r.value.content=a),rows:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"Contenu d√©taill√© de l'√©v√©nement..."},null,512),[[N,r.value.content]])]),e("div",Te,[e("div",null,[s[34]||(s[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de fin",-1)),E(e("input",{"onUpdate:modelValue":s[10]||(s[10]=a=>r.value.endDate=a),type:"date",min:r.value.startDate||new Date().toISOString().split("T")[0],class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",onInput:s[11]||(s[11]=a=>r.value.endDate=a.target.value)},null,40,Se),[[N,r.value.endDate]])]),e("div",null,[s[35]||(s[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Heure de fin",-1)),E(e("input",{"onUpdate:modelValue":s[12]||(s[12]=a=>r.value.endTime=a),type:"time",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",onInput:s[13]||(s[13]=a=>r.value.endTime=a.target.value)},null,544),[[N,r.value.endTime]])]),e("div",null,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Adresse compl√®te",-1)),E(e("input",{"onUpdate:modelValue":s[14]||(s[14]=a=>r.value.address=a),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Adresse compl√®te..."},null,512),[[N,r.value.address]])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Inscription requise",-1)),e("div",je,[e("label",Pe,[E(e("input",{"onUpdate:modelValue":s[15]||(s[15]=a=>r.value.registrationRequired=a),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[de,r.value.registrationRequired]]),s[37]||(s[37]=e("span",{class:"text-sm text-gray-700"},"Oui",-1))])])])]),e("div",null,[s[41]||(s[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type de tarification *",-1)),e("div",Ne,[e("label",Fe,[E(e("input",{"onUpdate:modelValue":s[16]||(s[16]=a=>r.value.isFree=a),value:!0,type:"radio",name:"pricing",class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},null,512),[[ne,r.value.isFree]]),s[39]||(s[39]=e("span",{class:"text-sm text-gray-700"},"Gratuit",-1))]),e("label",Ve,[E(e("input",{"onUpdate:modelValue":s[17]||(s[17]=a=>r.value.isFree=a),value:!1,type:"radio",name:"pricing",class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},null,512),[[ne,r.value.isFree]]),s[40]||(s[40]=e("span",{class:"text-sm text-gray-700"},"Payant",-1))])])]),r.value.isFree===!1?(i(),u("div",Ie,[e("div",null,[s[42]||(s[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prix *",-1)),E(e("input",{"onUpdate:modelValue":s[18]||(s[18]=a=>r.value.price=a),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0.00"},null,512),[[N,r.value.price,void 0,{number:!0}]])]),e("div",null,[s[44]||(s[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Devise *",-1)),E(e("select",{"onUpdate:modelValue":s[19]||(s[19]=a=>r.value.currency=a),class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...s[43]||(s[43]=[e("option",{value:"USD"},"USD ($)",-1),e("option",{value:"EUR"},"EUR (‚Ç¨)",-1),e("option",{value:"CDF"},"CDF (FC)",-1),e("option",{value:"XAF"},"XAF (FCFA)",-1)])],512),[[J,r.value.currency]])])])):y("",!0),e("div",ze,[e("button",{type:"submit",disabled:c.value,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[c.value?(i(),u("i",Le)):y("",!0),e("span",null,n(c.value?"Enregistrement...":g.value?"Modifier":"Cr√©er"),1)],8,Ue),e("button",{type:"button",onClick:o,disabled:c.value,class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"}," Annuler ",8,Me)])],32)])):y("",!0),e("div",Ge,[c.value&&v.value.length===0?(i(),u("div",Oe,[...s[45]||(s[45]=[e("i",{class:"fas fa-spinner fa-spin text-3xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des √©v√©nements...",-1)])])):(i(),u("div",qe,[e("table",Be,[s[49]||(s[49]=e("thead",{class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Titre"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Date"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Type"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Lieu"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold"},"Actions")])],-1)),e("tbody",Je,[(i(!0),u(M,null,G(v.value,a=>(i(),u("tr",{key:a.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Ye,[e("div",He,n(a.title),1),e("div",We,n(a.description?.substring(0,50))+"...",1)]),e("td",Qe,[e("div",null,n(l(a.startDate)),1),e("div",Ke,n(x(a.startTime)),1)]),e("td",Xe,[e("span",Ze,n(a.type),1)]),e("td",et,n(a.location),1),e("td",tt,[e("div",st,[e("button",{onClick:k=>j(a),disabled:c.value,class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",title:"Modifier"},[...s[46]||(s[46]=[e("i",{class:"fas fa-edit"},null,-1)])],8,lt),e("button",{onClick:k=>p(a.id),disabled:c.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Supprimer"},[...s[47]||(s[47]=[e("i",{class:"fas fa-trash"},null,-1)])],8,at)])])]))),128)),v.value.length===0&&!c.value?(i(),u("tr",ot,[...s[48]||(s[48]=[e("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500"},[e("i",{class:"fas fa-calendar-times text-4xl mb-3 text-gray-300"}),e("p",null,"Aucun √©v√©nement pour le moment")],-1)])])):y("",!0)])])]))])]))}}),nt={class:"space-y-6"},it={class:"bg-gradient-to-r from-blue-600 via-indigo-600 to-blue-700 rounded-2xl shadow-xl overflow-hidden"},ut={class:"p-4 sm:p-6 lg:p-8"},dt={class:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 lg:gap-6"},ct={class:"flex items-center gap-2 sm:gap-4 flex-shrink-0"},pt={class:"bg-white/10 backdrop-blur-sm rounded-xl px-3 py-2 sm:px-4 border border-white/20"},vt={class:"text-xl sm:text-2xl font-bold text-white"},gt={class:"bg-white/10 backdrop-blur-sm rounded-xl px-3 py-2 sm:px-4 border border-white/20"},mt={class:"text-xl sm:text-2xl font-bold text-yellow-300"},bt={class:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-stretch sm:items-end gap-3"},xt={class:"flex-1 min-w-0"},ft={class:"relative"},yt=["value"],ht={class:"flex-1 min-w-0 sm:max-w-[200px]"},wt={class:"relative"},$t={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl"},kt={class:"flex items-center gap-2"},_t={key:1,class:"text-center py-12"},Ct={key:2,class:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"},Dt={class:"overflow-x-auto"},Et={class:"w-full min-w-[800px]"},At={class:"bg-white divide-y divide-gray-100"},Rt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Tt={class:"flex items-center gap-2 sm:gap-3 min-w-0"},St={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs sm:text-sm shadow-md flex-shrink-0"},jt={class:"min-w-0 flex-1"},Pt={class:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate text-sm sm:text-base"},Nt={key:0,class:"text-xs text-gray-500 mt-0.5 truncate"},Ft={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 min-w-0"},Vt={class:"space-y-1"},It={class:"flex items-center gap-1.5 sm:gap-2 text-gray-700 min-w-0"},zt={class:"text-xs sm:text-sm truncate"},Ut={key:0,class:"flex items-center gap-1.5 sm:gap-2 text-gray-600"},Lt={class:"text-xs truncate"},Mt={key:1,class:"text-xs text-gray-400"},Gt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 hidden md:table-cell min-w-0"},Ot={class:"flex items-center gap-1.5 sm:gap-2 min-w-0"},qt={class:"text-xs sm:text-sm text-gray-700 truncate"},Bt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 min-w-0"},Jt=["onMouseenter"],Yt={class:"inline-flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-50 rounded-lg border border-blue-200 max-w-full cursor-help"},Ht={class:"text-xs sm:text-sm font-medium text-blue-700 truncate"},Wt={key:0,class:"absolute z-[100] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-xl whitespace-normal max-w-xs text-center pointer-events-none",style:{"min-width":"150px"}},Qt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Kt={class:"flex justify-center"},Xt={class:"hidden sm:inline"},Zt={class:"sm:hidden"},es={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 hidden lg:table-cell"},ts={class:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-600 whitespace-nowrap"},ss={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},ls={class:"flex items-center justify-center gap-1 sm:gap-1.5 flex-wrap"},as=["onClick","disabled"],os=["onClick","disabled"],rs=["onClick"],ns=["onClick","disabled"],is={key:0},us={class:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ds={class:"p-6 border-b border-gray-200"},cs={class:"flex items-center justify-between"},ps={class:"p-6 space-y-4"},vs={class:"text-gray-900 font-semibold"},gs={class:"text-gray-900"},ms={key:0},bs={class:"text-gray-900"},xs={key:1},fs={class:"text-gray-900"},ys={key:2},hs={class:"text-gray-900"},ws={class:"text-gray-900"},$s={key:3},ks={class:"text-gray-900"},_s={class:"text-gray-900"},ie=5e3,Cs=H({__name:"DashboardEventRegistrations",setup(S){const h=re.useToast(),d=m([]),g=m([]),v=m(!1),c=m(!1),b=m(null),_=m(""),$=m(""),r=m(null),f=m(null),F=I(()=>d.value.filter(l=>l.status==="pending").length),A=m(null),w=async(l=!1)=>{if(!(!l&&A.value&&Date.now()-A.value<ie&&g.value.length>0))try{const t=await B.getEvents({limit:100});g.value=t.data,A.value=Date.now()}catch(t){console.error("Erreur lors du chargement des √©v√©nements:",t)}},x=async(l=!1)=>{if(!(!l&&!_.value&&!$.value&&A.value&&Date.now()-A.value<ie&&d.value.length>0)&&!v.value){v.value=!0,b.value=null;try{const t=await B.getAllRegistrations({eventId:_.value||void 0,status:$.value||void 0,limit:100});d.value=t.data,A.value=Date.now()}catch(t){console.error("Erreur lors du chargement des inscriptions:",t),b.value=t.message||"Erreur lors du chargement des inscriptions",d.value=[]}finally{v.value=!1}}},C=l=>l?g.value.find(s=>s.id==l)?.title||`√âv√©nement #${l}`:"N/A",D=(l,t)=>l?l.length<=t?l:l.substring(0,t)+"...":"-",T=async(l,t)=>{if(confirm(`√ätes-vous s√ªr de vouloir ${t==="confirmed"?"confirmer":"annuler"} cette inscription ?`)){c.value=!0,b.value=null;try{await B.updateRegistrationStatus(l,t),await x(!0);const s={confirmed:"confirm√©e",cancelled:"annul√©e",pending:"mise en attente"};h.open({message:`‚úÖ Inscription ${s[t]||"mise √† jour"} avec succ√®s !`,type:"success",position:"top-right",duration:5e3}),window.dispatchEvent(new CustomEvent("dashboard:update-notifications"))}catch(s){console.error("Erreur lors de la mise √† jour:",s);const a=s.message||"Erreur lors de la mise √† jour";b.value=a,h.open({message:`‚ùå ${a}`,type:"error",position:"top-right",duration:6e3})}finally{c.value=!1}}},j=async l=>{if(confirm("√ätes-vous s√ªr de vouloir supprimer cette inscription ?")){c.value=!0,b.value=null;try{await B.deleteRegistration(l),await x(!0),h.open({message:"‚úÖ Inscription supprim√©e avec succ√®s !",type:"success",position:"top-right",duration:5e3}),window.dispatchEvent(new CustomEvent("dashboard:update-notifications"))}catch(t){console.error("Erreur lors de la suppression:",t);const s=t.message||"Erreur lors de la suppression";b.value=s,h.open({message:`‚ùå ${s}`,type:"error",position:"top-right",duration:6e3})}finally{c.value=!1}}},p=l=>{r.value=l},o=l=>{if(!l)return"-";try{const t=new Date(l);return isNaN(t.getTime())?l:t.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return l}};return W(async()=>{await Promise.all([w(),x()])}),(l,t)=>(i(),u("div",nt,[e("div",it,[e("div",ut,[e("div",dt,[t[9]||(t[9]=O('<div class="flex items-center gap-3 sm:gap-4 min-w-0 flex-1"><div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-lg flex-shrink-0"><i class="fas fa-user-check text-white text-xl sm:text-2xl"></i></div><div class="min-w-0 flex-1"><h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-1 truncate">Inscriptions aux √âv√©nements</h2><p class="text-blue-100 text-xs sm:text-sm font-medium truncate">G√©rez et suivez toutes les inscriptions</p></div></div>',1)),e("div",ct,[e("div",pt,[t[7]||(t[7]=e("div",{class:"text-xs text-blue-100 font-medium mb-0.5"},"Total",-1)),e("div",vt,n(d.value.length),1)]),e("div",gt,[t[8]||(t[8]=e("div",{class:"text-xs text-blue-100 font-medium mb-0.5"},"En attente",-1)),e("div",mt,n(F.value),1)])])]),e("div",bt,[e("div",xt,[t[12]||(t[12]=e("label",{class:"block text-xs font-semibold text-blue-100 mb-2"},"Filtrer par √©v√©nement",-1)),e("div",ft,[t[11]||(t[11]=e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-200 text-sm z-10"},null,-1)),E(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),onChange:t[1]||(t[1]=()=>x(!0)),class:"w-full pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 font-medium text-sm focus:ring-2 focus:ring-white/50 focus:border-white transition-all shadow-sm appearance-none"},[t[10]||(t[10]=e("option",{value:""},"Tous les √©v√©nements",-1)),(i(!0),u(M,null,G(g.value,s=>(i(),u("option",{key:s.id,value:s.id},n(D(s.title,30)),9,yt))),128))],544),[[J,_.value]])])]),e("div",ht,[t[15]||(t[15]=e("label",{class:"block text-xs font-semibold text-blue-100 mb-2"},"Filtrer par statut",-1)),e("div",wt,[t[14]||(t[14]=e("i",{class:"fas fa-filter absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-200 text-sm z-10"},null,-1)),E(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>$.value=s),onChange:t[3]||(t[3]=()=>x(!0)),class:"w-full pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 font-medium text-sm focus:ring-2 focus:ring-white/50 focus:border-white transition-all shadow-sm appearance-none"},[...t[13]||(t[13]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"pending"},"En attente",-1),e("option",{value:"confirmed"},"Confirm√©",-1),e("option",{value:"cancelled"},"Annul√©",-1)])],544),[[J,$.value]])])])])])]),b.value?(i(),u("div",$t,[e("div",kt,[t[16]||(t[16]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(b.value),1)])])):y("",!0),v.value?(i(),u("div",_t,[...t[17]||(t[17]=[e("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des inscriptions...",-1)])])):(i(),u("div",Ct,[e("div",Dt,[e("table",Et,[t[29]||(t[29]=e("thead",{class:"bg-gradient-to-r from-blue-600 to-indigo-600"},[e("tr",null,[e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap"},[e("div",{class:"flex items-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-user text-xs sm:text-sm"}),e("span",{class:"hidden sm:inline"},"Participant"),e("span",{class:"sm:hidden"},"Part.")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap"},[e("div",{class:"flex items-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-envelope text-xs sm:text-sm"}),e("span",null,"Contact")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap hidden md:table-cell"},[e("div",{class:"flex items-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-building text-xs sm:text-sm"}),e("span",null,"Organisation")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap"},[e("div",{class:"flex items-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-calendar-alt text-xs sm:text-sm"}),e("span",{class:"hidden lg:inline"},"√âv√©nement"),e("span",{class:"lg:hidden"},"√âv√©n.")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap"},[e("div",{class:"flex items-center justify-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-info-circle text-xs sm:text-sm"}),e("span",null,"Statut")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap hidden lg:table-cell"},[e("div",{class:"flex items-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-clock text-xs sm:text-sm"}),e("span",null,"Date")])]),e("th",{class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-bold text-white uppercase tracking-wider whitespace-nowrap"},[e("div",{class:"flex items-center justify-center gap-1.5 sm:gap-2"},[e("i",{class:"fas fa-cog text-xs sm:text-sm"}),e("span",{class:"hidden sm:inline"},"Actions")])])])],-1)),e("tbody",At,[(i(!0),u(M,null,G(d.value,(s,a)=>(i(),u("tr",{key:s.id,class:z(["hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 transition-all duration-200 group",{"bg-gray-50/50":a%2===1}])},[e("td",Rt,[e("div",Tt,[e("div",St,n((s.firstName?.[0]||"")+(s.lastName?.[0]||"")),1),e("div",jt,[e("div",Pt,n(s.firstName)+" "+n(s.lastName),1),s.position?(i(),u("div",Nt,n(s.position),1)):y("",!0)])])]),e("td",Ft,[e("div",Vt,[e("div",It,[t[18]||(t[18]=e("i",{class:"fas fa-envelope text-xs text-gray-400 flex-shrink-0"},null,-1)),e("span",zt,n(s.email),1)]),s.phone?(i(),u("div",Ut,[t[19]||(t[19]=e("i",{class:"fas fa-phone text-xs text-gray-400 flex-shrink-0"},null,-1)),e("span",Lt,n(s.phone),1)])):(i(),u("div",Mt,"-"))])]),e("td",Gt,[e("div",Ot,[t[20]||(t[20]=e("i",{class:"fas fa-building text-gray-400 text-xs sm:text-sm flex-shrink-0"},null,-1)),e("span",qt,n(s.organization||"-"),1)])]),e("td",Bt,[e("div",{class:"relative inline-block",onMouseenter:k=>f.value=s.eventId,onMouseleave:t[4]||(t[4]=k=>f.value=null)},[e("div",Yt,[t[21]||(t[21]=e("i",{class:"fas fa-calendar-alt text-blue-600 text-xs flex-shrink-0"},null,-1)),e("span",Ht,n(D(C(s.eventId),16)),1)]),f.value===s.eventId&&C(s.eventId).length>16?(i(),u("div",Wt,[V(n(C(s.eventId))+" ",1),t[22]||(t[22]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1"},[e("div",{class:"border-4 border-transparent border-t-gray-900"})],-1))])):y("",!0)],40,Jt)]),e("td",Qt,[e("div",Kt,[e("span",{class:z(["px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-bold shadow-sm inline-flex items-center gap-1 sm:gap-1.5 whitespace-nowrap",s.status==="confirmed"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":s.status==="cancelled"?"bg-gradient-to-r from-red-500 to-rose-500 text-white":"bg-gradient-to-r from-yellow-400 to-amber-500 text-white"])},[e("i",{class:z(["fas text-xs flex-shrink-0",s.status==="confirmed"?"fa-check-circle":s.status==="cancelled"?"fa-times-circle":"fa-clock"])},null,2),e("span",Xt,n(s.status==="confirmed"?"Confirm√©":s.status==="cancelled"?"Annul√©":"En attente"),1),e("span",Zt,n(s.status==="confirmed"?"OK":s.status==="cancelled"?"Ann.":"Att."),1)],2)])]),e("td",es,[e("div",ts,[t[23]||(t[23]=e("i",{class:"fas fa-clock text-gray-400 text-xs flex-shrink-0"},null,-1)),e("span",null,n(o(s.createdAt)),1)])]),e("td",ss,[e("div",ls,[s.status!=="confirmed"?(i(),u("button",{key:0,onClick:k=>T(s.id,"confirmed"),disabled:c.value,class:"p-2 sm:p-2.5 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 disabled:opacity-50 hover:scale-110 hover:shadow-md",title:"Confirmer"},[...t[24]||(t[24]=[e("i",{class:"fas fa-check text-xs sm:text-sm"},null,-1)])],8,as)):y("",!0),s.status!=="cancelled"?(i(),u("button",{key:1,onClick:k=>T(s.id,"cancelled"),disabled:c.value,class:"p-2 sm:p-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 disabled:opacity-50 hover:scale-110 hover:shadow-md",title:"Annuler"},[...t[25]||(t[25]=[e("i",{class:"fas fa-times text-xs sm:text-sm"},null,-1)])],8,os)):y("",!0),e("button",{onClick:k=>p(s),class:"p-2 sm:p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110 hover:shadow-md",title:"Voir les d√©tails"},[...t[26]||(t[26]=[e("i",{class:"fas fa-eye text-xs sm:text-sm"},null,-1)])],8,rs),e("button",{onClick:k=>j(s.id),disabled:c.value,class:"p-2 sm:p-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 disabled:opacity-50 hover:scale-110 hover:shadow-md",title:"Supprimer"},[...t[27]||(t[27]=[e("i",{class:"fas fa-trash text-xs sm:text-sm"},null,-1)])],8,ns)])])],2))),128)),d.value.length===0?(i(),u("tr",is,[...t[28]||(t[28]=[e("td",{colspan:"7",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center"},[e("i",{class:"fas fa-inbox text-2xl text-gray-400"})]),e("p",{class:"text-gray-500 font-medium"},"Aucune inscription trouv√©e"),e("p",{class:"text-sm text-gray-400"},"Les inscriptions appara√Ætront ici")])],-1)])])):y("",!0)])])])])),r.value?(i(),u("div",{key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[6]||(t[6]=X(s=>r.value=null,["self"]))},[e("div",us,[e("div",ds,[e("div",cs,[t[31]||(t[31]=e("h3",{class:"text-2xl font-bold text-gray-900"},"D√©tails de l'inscription",-1)),e("button",{onClick:t[5]||(t[5]=s=>r.value=null),class:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors"},[...t[30]||(t[30]=[e("i",{class:"fas fa-times"},null,-1)])])])]),e("div",ps,[e("div",null,[t[32]||(t[32]=e("label",{class:"text-sm font-medium text-gray-600"},"Nom complet",-1)),e("p",vs,n(r.value.firstName)+" "+n(r.value.lastName),1)]),e("div",null,[t[33]||(t[33]=e("label",{class:"text-sm font-medium text-gray-600"},"Email",-1)),e("p",gs,n(r.value.email),1)]),r.value.phone?(i(),u("div",ms,[t[34]||(t[34]=e("label",{class:"text-sm font-medium text-gray-600"},"T√©l√©phone",-1)),e("p",bs,n(r.value.phone),1)])):y("",!0),r.value.organization?(i(),u("div",xs,[t[35]||(t[35]=e("label",{class:"text-sm font-medium text-gray-600"},"Organisation",-1)),e("p",fs,n(r.value.organization),1)])):y("",!0),r.value.position?(i(),u("div",ys,[t[36]||(t[36]=e("label",{class:"text-sm font-medium text-gray-600"},"Poste",-1)),e("p",hs,n(r.value.position),1)])):y("",!0),e("div",null,[t[37]||(t[37]=e("label",{class:"text-sm font-medium text-gray-600"},"√âv√©nement",-1)),e("p",ws,n(C(r.value.eventId)),1)]),e("div",null,[t[38]||(t[38]=e("label",{class:"text-sm font-medium text-gray-600"},"Statut",-1)),e("span",{class:z(["inline-block px-3 py-1 rounded-full text-xs font-semibold",r.value.status==="confirmed"?"bg-green-100 text-green-800":r.value.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},n(r.value.status==="confirmed"?"Confirm√©":r.value.status==="cancelled"?"Annul√©":"En attente"),3)]),r.value.notes?(i(),u("div",$s,[t[39]||(t[39]=e("label",{class:"text-sm font-medium text-gray-600"},"Notes",-1)),e("p",ks,n(r.value.notes),1)])):y("",!0),e("div",null,[t[40]||(t[40]=e("label",{class:"text-sm font-medium text-gray-600"},"Date d'inscription",-1)),e("p",_s,n(o(r.value.createdAt)),1)])])])])):y("",!0)]))}}),Ds={class:"space-y-6"},Es={class:"flex items-center justify-between"},As={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4"},Rs={class:"flex items-center gap-2"},Ts={key:1,class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100"},Ss={class:"text-xl font-bold text-gray-900 mb-6"},js={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ps={key:0,class:"mt-3"},Ns=["src"],Fs={key:1,class:"mt-3"},Vs=["src"],Is={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zs={key:0,class:"mt-3"},Us=["src"],Ls={key:1,class:"mt-3"},Ms=["src"],Gs={class:"flex gap-4"},Os=["disabled"],qs={key:0},Bs={key:1},Js=["disabled"],Ys={class:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"},Hs={class:"overflow-x-auto"},Ws={class:"w-full"},Qs={class:"divide-y divide-gray-200"},Ks={key:0},Xs={class:"px-6 py-4"},Zs={class:"font-medium text-gray-900"},el={class:"px-6 py-4"},tl={class:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium"},sl={class:"px-6 py-4 text-gray-600"},ll={class:"px-6 py-4"},al={class:"flex items-center justify-center gap-2"},ol=["onClick","disabled"],rl=["onClick","disabled"],nl={key:1},il=H({__name:"DashboardActualites",setup(S){const h=m(!1),d=m(null),g=m([]),v=m(null),c=m(null),b=m(null),_=m(null),$=m(!1),r=m(null),f=m({title:"",category:"",publishDate:"",summary:"",content:"",image:"",author:"Admin",authorPhoto:"",readTime:5}),F=m(""),A=m(""),w=m(""),x=s=>{const a=s.target;if(a.files&&a.files[0]){v.value=a.files[0];const k=new FileReader;k.onload=R=>{c.value=R.target?.result},k.readAsDataURL(v.value)}},C=s=>{const a=s.target;if(a.files&&a.files[0]){b.value=a.files[0];const k=new FileReader;k.onload=R=>{_.value=R.target?.result},k.readAsDataURL(b.value)}},D=async()=>{$.value=!0,r.value=null;try{console.log("üîÑ Chargement des actualit√©s...");const s=await ee.getActualities({limit:100});console.log("‚úÖ R√©ponse re√ßue:",s),s&&s.data?(console.log(`üìä ${s.data.length} actualit√©(s) charg√©e(s)`),g.value=s.data):(console.warn("‚ö†Ô∏è Aucune donn√©e dans la r√©ponse:",s),g.value=[],r.value="Aucune donn√©e re√ßue du serveur")}catch(s){console.error("‚ùå Erreur compl√®te lors du chargement:",s),console.error("D√©tails:",{message:s.message,status:s.status,errors:s.errors,stack:s.stack}),s.status===500?r.value="Erreur serveur. V√©rifiez que le backend est d√©marr√© et que la base de donn√©es est accessible.":s.status===404?r.value="Endpoint non trouv√©. V√©rifiez la configuration de l'API.":s.status===0||s.message?.includes("fetch")||s.message?.includes("Failed to fetch")?r.value="Impossible de se connecter au serveur. V√©rifiez que le backend est accessible.":r.value=s.message||(s.errors?JSON.stringify(s.errors):"Erreur lors du chargement des actualit√©s"),g.value=[]}finally{$.value=!1}},T=async()=>{$.value=!0,r.value=null;try{console.log("üìù üìù üìù DONN√âES DU FORMULAIRE (AVANT TRAITEMENT):",{formulaire:{...f.value},learningPointsText:F.value,keyPointsText:A.value,tagsText:w.value,imageFile:v.value?.name,authorPhotoFile:b.value?.name});const s=F.value.split(`
`).map(P=>P.trim()).filter(P=>P.length>0),a=A.value.split(`
`).map(P=>P.trim()).filter(P=>P.length>0),k=w.value.split(",").map(P=>P.trim()).filter(P=>P.length>0),R={title:f.value.title.trim(),summary:f.value.summary.trim(),content:f.value.content.trim(),category:f.value.category.trim(),publishDate:f.value.publishDate,author:f.value.author.trim(),readTime:f.value.readTime,status:"published",image:f.value.image||"",learningPoints:s,keyPoints:a,tags:k};if(console.log("üöÄ üöÄ üöÄ DONN√âES PR√âPAR√âES POUR ENVOI:",{actualityData:R,learningPoints:s,keyPoints:a,tags:k,isEdit:!!d.value,editingId:d.value?.id,ancienneValeur:d.value?{title:d.value.title,summary:d.value.summary?.substring(0,50)+"...",category:d.value.category}:null}),d.value){console.log("üîÑ COMPARAISON AVANT/APR√àS:",{avant:{title:d.value.title,summary:d.value.summary?.substring(0,50),category:d.value.category,author:d.value.author},apr√®s:{title:R.title,summary:R.summary.substring(0,50),category:R.category,author:R.author},sontIdentiques:{title:d.value.title===R.title,summary:d.value.summary===R.summary,category:d.value.category===R.category,author:d.value.author===R.author}});const P=await ee.updateActuality(d.value.id,R,v.value||void 0,b.value||void 0);console.log("üì• üì• üì• R√âSULTAT DE LA MISE √Ä JOUR RE√áU:",P);const U=g.value.findIndex(L=>L.id===d.value?.id);U!==-1?g.value[U]=P:await D()}else{const P=await ee.createActuality(R,v.value||void 0,b.value||void 0);g.value.unshift(P)}l()}catch(s){if(console.error("Erreur lors de la sauvegarde:",s),r.value=s.message||"Erreur lors de la sauvegarde",s.errors){const a=Object.values(s.errors).flat().join(", ");r.value=`Erreurs de validation: ${a}`}}finally{$.value=!1}},j=s=>{if(!s||typeof s!="string")return"";const a=s.trim();if(!a)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(a))return a;const k=new Date(a);if(isNaN(k.getTime())){const L=a.split("-");if(L.length===3){const q=parseInt(L[0],10),Y=parseInt(L[1],10),Q=parseInt(L[2],10);if(!isNaN(q)&&!isNaN(Y)&&!isNaN(Q)){const oe=new Date(q,Y-1,Q);if(oe.getFullYear()===q&&oe.getMonth()===Y-1&&oe.getDate()===Q)return`${q}-${String(Y).padStart(2,"0")}-${String(Q).padStart(2,"0")}`}}return""}const R=k.getFullYear(),P=String(k.getMonth()+1).padStart(2,"0"),U=String(k.getDate()).padStart(2,"0");return`${R}-${P}-${U}`}catch(k){return console.warn("Erreur lors de la normalisation de la date:",s,k),""}},p=s=>{try{d.value=s,f.value={title:s.title||"",category:s.category||"",publishDate:j(s.publishDate),summary:s.summary||"",content:s.content||"",image:s.image||"",author:s.author||"Admin",authorPhoto:s.authorPhoto||"",readTime:s.readTime||5},F.value=s.learningPoints?s.learningPoints.join(`
`):"",A.value=s.keyPoints?s.keyPoints.join(`
`):"",w.value=s.tags?s.tags.join(", "):"",v.value=null,c.value=s.image||null,b.value=null,_.value=s.authorPhoto||null,h.value=!0}catch(a){console.error("Erreur lors de l'√©dition de l'actualit√©:",a),r.value="Erreur lors du chargement des donn√©es de l'actualit√©"}},o=async s=>{if(confirm("√ätes-vous s√ªr de vouloir supprimer cette actualit√© ?")){$.value=!0,r.value=null;try{await ee.deleteActuality(s),await D()}catch(a){console.error("Erreur lors de la suppression:",a),r.value=a.message||"Erreur lors de la suppression"}finally{$.value=!1}}},l=()=>{h.value=!1,d.value=null,v.value=null,c.value=null,b.value=null,_.value=null,F.value="",A.value="",w.value="",f.value={title:"",category:"",publishDate:"",summary:"",content:"",image:"",author:"Admin",authorPhoto:"",readTime:5},r.value=null},t=s=>s?new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A";return W(()=>{D()}),(s,a)=>(i(),u("div",Ds,[e("div",Es,[a[11]||(a[11]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Gestion des Actualit√©s"),e("p",{class:"text-gray-600 mt-1"},"Cr√©ez et g√©rez les actualit√©s du centre")],-1)),e("button",{onClick:a[0]||(a[0]=k=>{h.value=!0,d.value=null}),class:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"},[...a[10]||(a[10]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Nouvelle actualit√©",-1)])])]),r.value?(i(),u("div",As,[e("div",Rs,[a[12]||(a[12]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(r.value),1)]),r.value.includes("serveur")||r.value.includes("connecter")?(i(),u("button",{key:0,onClick:D,class:"mt-3 text-sm text-red-600 hover:text-red-800 underline"}," R√©essayer ")):y("",!0)])):y("",!0),h.value?(i(),u("div",Ts,[e("h3",Ss,n(d.value?"Modifier l'actualit√©":"Nouvelle actualit√©"),1),e("form",{onSubmit:X(T,["prevent"]),class:"space-y-6"},[e("div",js,[e("div",null,[a[13]||(a[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre *",-1)),E(e("input",{"onUpdate:modelValue":a[1]||(a[1]=k=>f.value.title=k),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Titre de l'actualit√©"},null,512),[[N,f.value.title]])]),e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cat√©gorie *",-1)),E(e("select",{"onUpdate:modelValue":a[2]||(a[2]=k=>f.value.category=k),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...a[14]||(a[14]=[O('<option value="">S√©lectionnez...</option><option value="Recherche">Recherche</option><option value="Formation">Formation</option><option value="Partenariat">Partenariat</option><option value="√âv√©nement">√âv√©nement</option>',5)])],512),[[J,f.value.category]])]),e("div",null,[a[17]||(a[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image",-1)),e("input",{onChange:x,type:"file",accept:"image/*",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,32),a[18]||(a[18]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats accept√©s: JPEG, PNG, JPG, GIF (max 2MB)",-1)),c.value?(i(),u("div",Ps,[e("img",{src:c.value,alt:"Preview",class:"w-32 h-32 object-cover rounded-lg border border-gray-200"},null,8,Ns)])):d.value&&f.value.image?(i(),u("div",Fs,[e("img",{src:f.value.image,alt:"Image actuelle",class:"w-32 h-32 object-cover rounded-lg border border-gray-200"},null,8,Vs),a[16]||(a[16]=e("p",{class:"text-xs text-gray-500 mt-1"},"Image actuelle",-1))])):y("",!0)]),e("div",null,[a[19]||(a[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de publication *",-1)),E(e("input",{"onUpdate:modelValue":a[3]||(a[3]=k=>f.value.publishDate=k),type:"date",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[N,f.value.publishDate]])])]),e("div",null,[a[20]||(a[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"R√©sum√© *",-1)),E(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=k=>f.value.summary=k),required:"",rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"R√©sum√© de l'actualit√©..."},null,512),[[N,f.value.summary]])]),e("div",null,[a[21]||(a[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contenu *",-1)),E(e("textarea",{"onUpdate:modelValue":a[5]||(a[5]=k=>f.value.content=k),required:"",rows:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"Contenu complet de l'actualit√©..."},null,512),[[N,f.value.content]])]),e("div",null,[a[22]||(a[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ce que vous apprendrez",-1)),a[23]||(a[23]=e("p",{class:"text-xs text-gray-500 mb-2"},"Ajoutez un point par ligne",-1)),E(e("textarea",{"onUpdate:modelValue":a[6]||(a[6]=k=>F.value=k),rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:`Les derni√®res tendances en mati√®re de financement des PME
Comment pr√©parer un dossier de financement convaincant
Les diff√©rentes sources de financement disponibles
Les erreurs √† √©viter lors de la recherche de financement`},null,512),[[N,F.value]])]),e("div",null,[a[24]||(a[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Points cl√©s √† retenir",-1)),a[25]||(a[25]=e("p",{class:"text-xs text-gray-500 mb-2"},"Ajoutez un point par ligne",-1)),E(e("textarea",{"onUpdate:modelValue":a[7]||(a[7]=k=>A.value=k),rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:`Comprendre les m√©canismes de financement adapt√©s aux PME
Identifier les opportunit√©s de croissance et de d√©veloppement
Optimiser la gestion financi√®re de votre entreprise
Acc√©der aux ressources et programmes disponibles`},null,512),[[N,A.value]])]),e("div",null,[a[26]||(a[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mots-cl√©s (tags)",-1)),a[27]||(a[27]=e("p",{class:"text-xs text-gray-500 mb-2"},"S√©parez les tags par des virgules",-1)),E(e("input",{"onUpdate:modelValue":a[8]||(a[8]=k=>w.value=k),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Formation, PME, Financement, RDC"},null,512),[[N,w.value]])]),e("div",Is,[e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Auteur *",-1)),E(e("input",{"onUpdate:modelValue":a[9]||(a[9]=k=>f.value.author=k),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Nom de l'auteur"},null,512),[[N,f.value.author]]),a[29]||(a[29]=e("p",{class:"text-xs text-gray-500 mt-1"},"Nom de la personne qui publie l'actualit√©",-1))]),e("div",null,[a[31]||(a[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Photo de l'auteur",-1)),e("input",{onChange:C,type:"file",accept:"image/*",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,32),a[32]||(a[32]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats accept√©s: JPEG, PNG, JPG, GIF (max 2MB)",-1)),_.value?(i(),u("div",zs,[e("img",{src:_.value,alt:"Preview auteur",class:"w-24 h-24 object-cover rounded-full border border-gray-200"},null,8,Us)])):d.value&&f.value.authorPhoto?(i(),u("div",Ls,[e("img",{src:f.value.authorPhoto,alt:"Photo auteur actuelle",class:"w-24 h-24 object-cover rounded-full border border-gray-200"},null,8,Ms),a[30]||(a[30]=e("p",{class:"text-xs text-gray-500 mt-1"},"Photo actuelle",-1))])):y("",!0)])]),e("div",Gs,[e("button",{type:"submit",disabled:$.value,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"},[$.value?(i(),u("span",qs,"Enregistrement...")):(i(),u("span",Bs,n(d.value?"Modifier":"Cr√©er"),1))],8,Os),e("button",{type:"button",onClick:l,disabled:$.value,class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"}," Annuler ",8,Js)])],32)])):y("",!0),e("div",Ys,[e("div",Hs,[e("table",Ws,[a[37]||(a[37]=e("thead",{class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Titre"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Cat√©gorie"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Date"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold"},"Actions")])],-1)),e("tbody",Qs,[$.value&&g.value.length===0?(i(),u("tr",Ks,[...a[33]||(a[33]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-gray-500"}," Chargement... ",-1)])])):y("",!0),(i(!0),u(M,null,G(g.value,k=>(i(),u("tr",{key:k.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Xs,[e("div",Zs,n(k.title),1)]),e("td",el,[e("span",tl,n(k.category),1)]),e("td",sl,n(t(k.publishDate)),1),e("td",ll,[e("div",al,[e("button",{onClick:R=>p(k),disabled:$.value,class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[...a[34]||(a[34]=[e("i",{class:"fas fa-edit"},null,-1)])],8,ol),e("button",{onClick:R=>o(k.id),disabled:$.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[...a[35]||(a[35]=[e("i",{class:"fas fa-trash"},null,-1)])],8,rl)])])]))),128)),!$.value&&g.value.length===0?(i(),u("tr",nl,[...a[36]||(a[36]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-gray-500"}," Aucune actualit√© pour le moment ",-1)])])):y("",!0)])])])])]))}}),ul={class:"space-y-6"},dl={class:"flex items-center justify-between"},cl={key:0,class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100"},pl={key:0,class:"mt-3"},vl=["src"],gl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ml={class:"relative"},bl={id:"category-list"},xl=["value"],fl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},yl={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},hl={class:"flex items-center gap-2"},wl={class:"flex gap-4"},$l=["disabled"],kl={key:0,class:"fas fa-spinner fa-spin"},_l=["disabled"],Cl={key:1,class:"text-center py-12"},Dl={key:2,class:"text-center py-12"},El={class:"text-gray-600 mb-6"},Al={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Rl={class:"aspect-square overflow-hidden"},Tl=["src","alt"],Sl={class:"p-4"},jl={class:"font-medium text-gray-900 mb-1"},Pl={class:"text-sm text-gray-500"},Nl={key:0,class:"text-xs text-gray-400 mt-1"},Fl={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},Vl=["onClick","disabled"],Il={key:0,class:"col-span-full text-center py-12 text-gray-500"},zl=5e3,Ul=H({__name:"DashboardGallery",setup(S){const h=re.useToast(),d=m(!1),g=m([]),v=m(null),c=m(null),b=m(!1),_=m(!1),$=m(null),r=m([]),f=m({title:"",description:"",category:"",date:new Date().toISOString().split("T")[0],author:"Admin"}),F=o=>{const l=o.target;if(l.files&&l.files[0]){const t=l.files[0];if(t.size>2*1024*1024){$.value="Le fichier est trop volumineux. Taille maximale: 2MB",l.value="";return}v.value=t,$.value=null;const s=new FileReader;s.onload=a=>{c.value=a.target?.result},s.readAsDataURL(v.value)}},A=m(null),w=async(o=!1)=>{if(!(!o&&A.value&&Date.now()-A.value<zl&&g.value.length>0)&&!b.value){b.value=!0,$.value=null;try{const l=await Z.getPhotos({limit:100});g.value=l.data,A.value=Date.now()}catch(l){console.error("Erreur lors du chargement des photos:",l),$.value=l.message||"Erreur lors du chargement de la galerie",g.value=[]}finally{b.value=!1}}},x=async()=>{try{const l=(await Z.getCategories()).map(a=>a.name||a.id),t=["√âv√©nements","√âquipe","Installations","Collaborations","Formations","Conf√©rences","Ateliers","R√©unions","C√©r√©monies","Activit√©s","Projets","Partenariats"],s=new Set([...t,...l]);r.value=Array.from(s).sort(),r.value.length===0&&(r.value=t)}catch(o){console.error("Erreur lors du chargement des cat√©gories:",o),r.value=["√âv√©nements","√âquipe","Installations","Collaborations","Formations","Conf√©rences","Ateliers","R√©unions","C√©r√©monies","Activit√©s","Projets","Partenariats"]}},C=async()=>{if(!v.value){$.value="Veuillez s√©lectionner une image",h.open({message:"‚ö†Ô∏è Veuillez s√©lectionner une image",type:"warning",position:"top-right",duration:4e3});return}if(!f.value.title||!f.value.category){$.value="Veuillez remplir tous les champs obligatoires",h.open({message:"‚ö†Ô∏è Veuillez remplir tous les champs obligatoires",type:"warning",position:"top-right",duration:4e3});return}_.value=!0,$.value=null;try{const o=await Z.uploadPhoto(v.value,{title:f.value.title,description:f.value.description||"",category:f.value.category,date:f.value.date,author:f.value.author});await w(!0),p(),h.open({message:"‚úÖ Photo ajout√©e √† la galerie avec succ√®s !",type:"success",position:"top-right",duration:5e3}),window.dispatchEvent(new CustomEvent("dashboard:update-stats"))}catch(o){console.error("Erreur lors de l'ajout de la photo:",o);const l=o.message||"Erreur lors de l'ajout de la photo";$.value=l,h.open({message:`‚ùå ${l}`,type:"error",position:"top-right",duration:6e3})}finally{_.value=!1}},D=async o=>{if(o&&confirm("√ätes-vous s√ªr de vouloir supprimer cette photo ?")){_.value=!0,$.value=null;try{await Z.deletePhoto(o),await w(!0),h.open({message:"‚úÖ Photo supprim√©e de la galerie avec succ√®s !",type:"success",position:"top-right",duration:5e3}),window.dispatchEvent(new CustomEvent("dashboard:update-stats"))}catch(l){console.error("Erreur lors de la suppression de la photo:",l);const t=l.message||"Erreur lors de la suppression de la photo";$.value=t,h.open({message:`‚ùå ${t}`,type:"error",position:"top-right",duration:6e3})}finally{_.value=!1}}},T=o=>o&&Z.getImageUrl(o)||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",j=o=>{if(!o)return"";try{const l=new Date(o);return isNaN(l.getTime())?o:l.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}catch{return o}},p=()=>{d.value=!1,v.value=null,c.value=null,$.value=null,f.value={title:"",description:"",category:"",date:new Date().toISOString().split("T")[0],author:"Admin"}};return W(async()=>{await Promise.all([x(),w()])}),(o,l)=>(i(),u("div",ul,[e("div",dl,[l[9]||(l[9]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Gestion de la Galerie"),e("p",{class:"text-gray-600 mt-1"},"Ajoutez et g√©rez les photos de la galerie")],-1)),e("button",{onClick:l[0]||(l[0]=t=>d.value=!0),class:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"},[...l[8]||(l[8]=[e("i",{class:"fas fa-upload"},null,-1),e("span",null,"Ajouter des photos",-1)])])]),d.value?(i(),u("div",cl,[l[19]||(l[19]=e("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Ajouter une photo",-1)),e("form",{onSubmit:X(C,["prevent"]),class:"space-y-6"},[e("div",null,[l[10]||(l[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image *",-1)),e("input",{onChange:F,type:"file",accept:"image/*",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,32),l[11]||(l[11]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats accept√©s: JPEG, PNG, JPG, GIF (max 2MB)",-1)),c.value?(i(),u("div",pl,[e("img",{src:c.value,alt:"Preview",class:"w-48 h-48 object-cover rounded-lg border border-gray-200"},null,8,vl)])):y("",!0)]),e("div",gl,[e("div",null,[l[12]||(l[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre *",-1)),E(e("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>f.value.title=t),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Titre de la photo"},null,512),[[N,f.value.title]])]),e("div",null,[l[13]||(l[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cat√©gorie *",-1)),e("div",ml,[E(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>f.value.category=t),type:"text",list:"category-list",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Tapez ou s√©lectionnez une cat√©gorie...",required:""},null,512),[[N,f.value.category]]),e("datalist",bl,[(i(!0),u(M,null,G(r.value,t=>(i(),u("option",{key:t,value:t},n(t),9,xl))),128))])]),l[14]||(l[14]=e("p",{class:"text-xs text-gray-500 mt-1"},"Exemples: √âv√©nements, √âquipe, Installations, Collaborations, Formations, etc.",-1))])]),e("div",null,[l[15]||(l[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),E(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=t=>f.value.description=t),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"Description de la photo (optionnel)"},null,512),[[N,f.value.description]])]),e("div",fl,[e("div",null,[l[16]||(l[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date *",-1)),E(e("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>f.value.date=t),type:"date",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[N,f.value.date]])]),e("div",null,[l[17]||(l[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Auteur *",-1)),E(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>f.value.author=t),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Nom de l'auteur"},null,512),[[N,f.value.author]])])]),$.value?(i(),u("div",yl,[e("div",hl,[l[18]||(l[18]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n($.value),1)])])):y("",!0),e("div",wl,[e("button",{type:"submit",disabled:_.value,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[_.value?(i(),u("i",kl)):y("",!0),e("span",null,n(_.value?"Ajout en cours...":"Ajouter"),1)],8,$l),e("button",{type:"button",onClick:p,disabled:_.value,class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 disabled:opacity-50"}," Annuler ",8,_l)])],32)])):y("",!0),b.value&&g.value.length===0?(i(),u("div",Cl,[...l[20]||(l[20]=[e("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement de la galerie...",-1)])])):$.value&&g.value.length===0?(i(),u("div",Dl,[l[21]||(l[21]=e("i",{class:"fas fa-exclamation-triangle text-4xl text-red-600 mb-4"},null,-1)),l[22]||(l[22]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Erreur",-1)),e("p",El,n($.value),1),e("button",{onClick:l[6]||(l[6]=()=>w()),class:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors"}," R√©essayer ")])):(i(),u("div",Al,[(i(!0),u(M,null,G(g.value,t=>(i(),u("div",{key:t.id,class:"group relative bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300"},[e("div",Rl,[e("img",{src:T(t.image),alt:t.title||"Photo",class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:l[7]||(l[7]=s=>{s.target.src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"})},null,40,Tl)]),e("div",Sl,[e("h3",jl,n(t.title||"Sans titre"),1),e("p",Pl,n(t.category||"Non cat√©goris√©"),1),t.date?(i(),u("p",Nl,n(j(t.date)),1)):y("",!0)]),e("div",Fl,[e("button",{onClick:s=>D(t.id),class:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",disabled:_.value},[...l[23]||(l[23]=[e("i",{class:"fas fa-trash text-sm"},null,-1)])],8,Vl)])]))),128)),!b.value&&g.value.length===0?(i(),u("div",Il,[...l[24]||(l[24]=[e("i",{class:"fas fa-images text-4xl text-gray-300 mb-4"},null,-1),e("p",null,"Aucune photo dans la galerie",-1)])])):y("",!0)]))]))}}),Ll={class:"space-y-6"},Ml={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Gl={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},Ol={class:"flex items-center justify-between"},ql={class:"text-2xl font-bold text-gray-900"},Bl={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},Jl={class:"flex items-center justify-between"},Yl={class:"text-2xl font-bold text-gray-900"},Hl={key:0,class:"text-center py-12"},Wl={key:1,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},Ql={class:"flex items-center gap-2"},Kl={key:2,class:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"},Xl={class:"p-4 border-b border-gray-200 flex items-center justify-between"},Zl={class:"overflow-x-auto"},ea={class:"w-full"},ta={class:"divide-y divide-gray-200"},sa={class:"px-6 py-4"},la={class:"font-medium text-gray-900"},aa={class:"px-6 py-4 text-gray-600"},oa={class:"px-6 py-4 text-center"},ra={class:"px-6 py-4"},na={class:"flex items-center justify-center gap-2"},ia=["onClick"],ua={key:0},da=H({__name:"DashboardNewsletter",setup(S){const h=m(""),d=m([]),g=m(!1),v=m(null),c=I(()=>h.value?d.value.filter(w=>w.email.toLowerCase().includes(h.value.toLowerCase())):d.value),b=I(()=>{const w=new Date,x=new Date(w.getFullYear(),w.getMonth(),1);return d.value.filter(C=>{const D=C.subscribedAt||C.createdAt;return D&&new Date(D)>=x}).length}),_=async()=>{g.value=!0,v.value=null;try{const w=await ae.getAllSubscribers({limit:100,search:h.value||void 0});d.value=w.data,console.log("üìß Newsletter Subscribers charg√©s:",d.value.length)}catch(w){console.error("Erreur lors du chargement des abonn√©s:",w),v.value=w.message||"Erreur lors du chargement des abonn√©s",d.value=[]}finally{g.value=!1}},$=async w=>{if(w&&confirm("√ätes-vous s√ªr de vouloir supprimer cet abonn√© ?"))try{await ae.deleteSubscriber(w),await _()}catch(x){console.error("Erreur lors de la suppression:",x),alert("Erreur lors de la suppression: "+(x.message||"Erreur inconnue"))}},r=()=>{const w=d.value.map(T=>T.email).join(`
`),x=new Blob([w],{type:"text/csv"}),C=window.URL.createObjectURL(x),D=document.createElement("a");D.href=C,D.download="newsletter-subscribers.csv",D.click()},f=w=>w?new Date(w).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A",F=w=>({active:"Actif",unsubscribed:"D√©sabonn√©",pending:"En attente"})[w]||w,A=w=>({active:"bg-green-100 text-green-700",unsubscribed:"bg-red-100 text-red-700",pending:"bg-yellow-100 text-yellow-700"})[w]||"bg-gray-100 text-gray-700";return W(()=>{_()}),(w,x)=>(i(),u("div",Ll,[x[12]||(x[12]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Abonn√©s Newsletter"),e("p",{class:"text-gray-600 mt-1"},"G√©rez les abonnements √† la newsletter")],-1)),e("div",Ml,[e("div",Gl,[e("div",Ol,[e("div",null,[x[1]||(x[1]=e("p",{class:"text-sm text-gray-600 mb-1"},"Total abonn√©s",-1)),e("p",ql,n(d.value.length),1)]),x[2]||(x[2]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center"},[e("i",{class:"fas fa-users text-blue-600 text-xl"})],-1))])]),e("div",Bl,[e("div",Jl,[e("div",null,[x[3]||(x[3]=e("p",{class:"text-sm text-gray-600 mb-1"},"Ce mois",-1)),e("p",Yl,n(b.value),1)]),x[4]||(x[4]=e("div",{class:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center"},[e("i",{class:"fas fa-arrow-up text-green-600 text-xl"})],-1))])]),x[5]||(x[5]=O('<div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 mb-1">Taux d&#39;ouverture</p><p class="text-2xl font-bold text-gray-900">42%</p></div><div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center"><i class="fas fa-chart-line text-purple-600 text-xl"></i></div></div></div>',1))]),g.value?(i(),u("div",Hl,[...x[6]||(x[6]=[e("i",{class:"fas fa-spinner fa-spin text-3xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des abonn√©s...",-1)])])):v.value?(i(),u("div",Wl,[e("div",Ql,[x[7]||(x[7]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(v.value),1)])])):(i(),u("div",Kl,[e("div",Xl,[E(e("input",{"onUpdate:modelValue":x[0]||(x[0]=C=>h.value=C),type:"text",placeholder:"Rechercher un email...",onInput:_,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[N,h.value]]),e("button",{onClick:r,class:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},[...x[8]||(x[8]=[e("i",{class:"fas fa-download"},null,-1),e("span",null,"Exporter",-1)])])]),e("div",Zl,[e("table",ea,[x[11]||(x[11]=e("thead",{class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Email"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold"},"Date d'inscription"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold"},"Statut"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold"},"Actions")])],-1)),e("tbody",ta,[(i(!0),u(M,null,G(c.value,C=>(i(),u("tr",{key:C.id,class:"hover:bg-gray-50 transition-colors"},[e("td",sa,[e("div",la,n(C.email),1)]),e("td",aa,n(f(C.subscribedAt||C.createdAt)),1),e("td",oa,[e("span",{class:z(["px-3 py-1 rounded-full text-xs font-medium",A(C.status)])},n(F(C.status)),3)]),e("td",ra,[e("div",na,[e("button",{onClick:D=>$(C.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[...x[9]||(x[9]=[e("i",{class:"fas fa-trash"},null,-1)])],8,ia)])])]))),128)),c.value.length===0?(i(),u("tr",ua,[...x[10]||(x[10]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-gray-500"}," Aucun abonn√© trouv√© ",-1)])])):y("",!0)])])])]))]))}}),ca={class:"space-y-6"},pa={class:"grid grid-cols-1 sm:grid-cols-4 gap-4"},va={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},ga={class:"text-2xl font-bold text-gray-900"},ma={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},ba={class:"text-2xl font-bold text-yellow-600"},xa={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},fa={class:"text-2xl font-bold text-green-600"},ya={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},ha={class:"text-2xl font-bold text-blue-600"},wa={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl"},$a={class:"flex items-center gap-2"},ka={key:1,class:"text-center py-12"},_a={key:2,class:"bg-white rounded-xl p-4 shadow-lg border border-gray-100 flex items-center gap-4"},Ca={key:3,class:"space-y-4"},Da={class:"flex items-start justify-between mb-4"},Ea={class:"flex-1"},Aa={class:"flex items-center gap-3 mb-2"},Ra={class:"text-lg font-bold text-gray-900"},Ta={class:"text-gray-600 mb-1"},Sa={class:"text-gray-600 mb-1"},ja={key:0,class:"text-gray-600 mb-1"},Pa={class:"text-gray-600"},Na={class:"flex gap-2"},Fa=["onClick","disabled"],Va=["onClick","disabled"],Ia=["onClick"],za=["onClick","disabled"],Ua={class:"bg-gray-50 rounded-lg p-4"},La={class:"text-sm text-gray-700"},Ma={class:"text-sm text-gray-700 mt-2"},Ga={class:"text-sm text-gray-700 mt-2"},Oa={key:0,class:"text-center py-12 text-gray-500"},qa={class:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Ba={class:"flex items-center justify-between mb-6"},Ja={class:"space-y-4"},Ya={class:"text-gray-900"},Ha={class:"text-gray-600 text-sm"},Wa={key:0,class:"text-gray-600 text-sm"},Qa={class:"text-gray-900"},Ka={class:"text-gray-600 text-sm"},Xa={class:"text-gray-900 font-semibold"},Za={class:"text-gray-900 mt-2 whitespace-pre-wrap"},eo={class:"text-gray-900"},to={class:"text-gray-900"},so=H({__name:"DashboardFinancing",setup(S){const h=m(""),d=m(""),g=m([]),v=m(null),c=m(!1),b=m(null),_=m(!1),$=I(()=>{let p=g.value;if(d.value&&(p=p.filter(o=>o.status===d.value)),h.value){const o=h.value.toLowerCase();p=p.filter(l=>(l.contactFirstName+" "+l.contactLastName).toLowerCase().includes(o)||l.contactEmail.toLowerCase().includes(o)||l.companyName.toLowerCase().includes(o)||l.projectTitle.toLowerCase().includes(o))}return p}),r=I(()=>g.value.filter(p=>p.status==="submitted"||p.status==="under-review").length),f=I(()=>g.value.filter(p=>p.status==="approved"||p.status==="rejected").length),F=I(()=>g.value.filter(p=>{const o=new Date(p.createdAt||""),l=new Date;return l.setDate(l.getDate()-7),o>=l}).length),A=async()=>{c.value=!0,b.value=null;try{const p=await te.getRequests({status:d.value||void 0,search:h.value||void 0,limit:100});g.value=p.data}catch(p){console.error("Erreur lors du chargement des demandes:",p),b.value=p.message||"Erreur lors du chargement des demandes",g.value=[]}finally{c.value=!1}},w=p=>{v.value=p},x=async p=>{if(p&&confirm("√ätes-vous s√ªr de vouloir supprimer cette demande ?")){_.value=!0,b.value=null;try{await te.deleteRequest(p),await A()}catch(o){console.error("Erreur lors de la suppression:",o);const l=o.message||"Erreur lors de la suppression";b.value=l,alert(`Erreur: ${l}`)}finally{_.value=!1}}},C=async(p,o)=>{if(p.id){_.value=!0,b.value=null;try{await te.updateRequestStatus(p.id,o),await A()}catch(l){console.error("Erreur lors de la mise √† jour:",l);const t=l.message||l.errors?.status?.[0]||"Erreur lors de la mise √† jour du statut";b.value=t,alert(`Erreur: ${t}`)}finally{_.value=!1}}},D=p=>({draft:"Brouillon",submitted:"Soumise","under-review":"En r√©vision",approved:"Approuv√©e",rejected:"Refus√©e","on-hold":"En attente"})[p]||p,T=p=>({draft:"bg-gray-100 text-gray-700",submitted:"bg-yellow-100 text-yellow-700","under-review":"bg-blue-100 text-blue-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700","on-hold":"bg-orange-100 text-orange-700"})[p]||"bg-gray-100 text-gray-700",j=p=>p?new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return W(()=>{A()}),(p,o)=>(i(),u("div",ca,[o[29]||(o[29]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Demandes de Financement"),e("p",{class:"text-gray-600 mt-1"},"G√©rez les demandes de financement re√ßues")],-1)),e("div",pa,[e("div",va,[o[4]||(o[4]=e("p",{class:"text-sm text-gray-600 mb-1"},"Total",-1)),e("p",ga,n(g.value.length),1)]),e("div",ma,[o[5]||(o[5]=e("p",{class:"text-sm text-gray-600 mb-1"},"En attente",-1)),e("p",ba,n(r.value),1)]),e("div",xa,[o[6]||(o[6]=e("p",{class:"text-sm text-gray-600 mb-1"},"Trait√©es",-1)),e("p",fa,n(f.value),1)]),e("div",ya,[o[7]||(o[7]=e("p",{class:"text-sm text-gray-600 mb-1"},"Nouvelles",-1)),e("p",ha,n(F.value),1)])]),b.value?(i(),u("div",wa,[e("div",$a,[o[8]||(o[8]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(b.value),1)])])):y("",!0),c.value?(i(),u("div",ka,[...o[9]||(o[9]=[e("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des demandes...",-1)])])):(i(),u("div",_a,[E(e("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>d.value=l),onChange:A,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...o[10]||(o[10]=[O('<option value="">Tous les statuts</option><option value="submitted">Soumise</option><option value="under-review">En r√©vision</option><option value="approved">Approuv√©e</option><option value="rejected">Refus√©e</option><option value="on-hold">En attente</option>',6)])],544),[[J,d.value]]),E(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>h.value=l),onInput:A,type:"text",placeholder:"Rechercher...",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[N,h.value]])])),c.value?y("",!0):(i(),u("div",Ca,[(i(!0),u(M,null,G($.value,l=>(i(),u("div",{key:l.id,class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300"},[e("div",Da,[e("div",Ea,[e("div",Aa,[e("h3",Ra,n(l.contactFirstName)+" "+n(l.contactLastName),1),e("span",{class:z(["px-3 py-1 rounded-full text-xs font-medium",T(l.status)])},n(D(l.status)),3)]),e("p",Ta,[o[11]||(o[11]=e("i",{class:"fas fa-building mr-2"},null,-1)),V(n(l.companyName),1)]),e("p",Sa,[o[12]||(o[12]=e("i",{class:"fas fa-envelope mr-2"},null,-1)),V(n(l.contactEmail),1)]),l.contactPhone?(i(),u("p",ja,[o[13]||(o[13]=e("i",{class:"fas fa-phone mr-2"},null,-1)),V(n(l.contactPhone),1)])):y("",!0),e("p",Pa,[o[14]||(o[14]=e("i",{class:"fas fa-calendar mr-2"},null,-1)),V(n(j(l.createdAt)),1)])]),e("div",Na,[l.status!=="approved"?(i(),u("button",{key:0,onClick:t=>C(l,"approved"),disabled:_.value,class:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Approuver"},[...o[15]||(o[15]=[e("i",{class:"fas fa-check"},null,-1)])],8,Fa)):y("",!0),l.status!=="rejected"?(i(),u("button",{key:1,onClick:t=>C(l,"rejected"),disabled:_.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Rejeter"},[...o[16]||(o[16]=[e("i",{class:"fas fa-times"},null,-1)])],8,Va)):y("",!0),e("button",{onClick:t=>w(l),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les d√©tails"},[...o[17]||(o[17]=[e("i",{class:"fas fa-eye"},null,-1)])],8,Ia),e("button",{onClick:t=>x(l.id),disabled:_.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Supprimer"},[...o[18]||(o[18]=[e("i",{class:"fas fa-trash"},null,-1)])],8,za)])]),e("div",Ua,[e("p",La,[o[19]||(o[19]=e("strong",null,"Projet:",-1)),V(" "+n(l.projectTitle),1)]),e("p",Ma,[o[20]||(o[20]=e("strong",null,"Description:",-1)),V(" "+n(l.projectDescription?.substring(0,200))+n(l.projectDescription&&l.projectDescription.length>200?"...":""),1)]),e("p",Ga,[o[21]||(o[21]=e("strong",null,"Montant demand√©:",-1)),V(" "+n(l.requestedAmount)+" "+n(l.currency),1)])])]))),128)),$.value.length===0?(i(),u("div",Oa," Aucune demande trouv√©e ")):y("",!0)])),v.value?(i(),u("div",{key:4,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:o[3]||(o[3]=X(l=>v.value=null,["self"]))},[e("div",qa,[e("div",Ba,[o[23]||(o[23]=e("h3",{class:"text-2xl font-bold text-gray-900"},"D√©tails de la demande",-1)),e("button",{onClick:o[2]||(o[2]=l=>v.value=null),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors"},[...o[22]||(o[22]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Ja,[e("div",null,[o[24]||(o[24]=e("label",{class:"text-sm font-medium text-gray-600"},"Contact",-1)),e("p",Ya,n(v.value.contactFirstName)+" "+n(v.value.contactLastName),1),e("p",Ha,n(v.value.contactEmail),1),v.value.contactPhone?(i(),u("p",Wa,n(v.value.contactPhone),1)):y("",!0)]),e("div",null,[o[25]||(o[25]=e("label",{class:"text-sm font-medium text-gray-600"},"Entreprise",-1)),e("p",Qa,n(v.value.companyName),1),e("p",Ka,n(v.value.address)+", "+n(v.value.city)+", "+n(v.value.country),1)]),e("div",null,[o[26]||(o[26]=e("label",{class:"text-sm font-medium text-gray-600"},"Projet",-1)),e("p",Xa,n(v.value.projectTitle),1),e("p",Za,n(v.value.projectDescription),1)]),e("div",null,[o[27]||(o[27]=e("label",{class:"text-sm font-medium text-gray-600"},"Montant demand√©",-1)),e("p",eo,n(v.value.requestedAmount)+" "+n(v.value.currency),1)]),e("div",null,[o[28]||(o[28]=e("label",{class:"text-sm font-medium text-gray-600"},"Date",-1)),e("p",to,n(j(v.value.createdAt)),1)])])])])):y("",!0)]))}}),lo={class:"space-y-6"},ao={class:"grid grid-cols-1 sm:grid-cols-4 gap-4"},oo={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},ro={class:"text-2xl font-bold text-gray-900"},no={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},io={class:"text-2xl font-bold text-yellow-600"},uo={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},co={class:"text-2xl font-bold text-green-600"},po={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},vo={class:"text-2xl font-bold text-blue-600"},go={class:"bg-white rounded-xl p-4 shadow-lg border border-gray-100 flex items-center gap-4"},mo={key:0,class:"text-center py-12"},bo={key:1,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},xo={class:"flex items-center gap-2"},fo={key:2,class:"space-y-4"},yo={class:"flex items-start justify-between mb-4"},ho={class:"flex-1"},wo={class:"flex items-center gap-3 mb-2"},$o={class:"text-lg font-bold text-gray-900"},ko={class:"text-gray-600 mb-1"},_o={key:0,class:"text-gray-600 mb-1"},Co={class:"text-gray-600 mb-1"},Do={class:"text-gray-600"},Eo={class:"flex gap-2"},Ao=["onClick"],Ro=["onClick"],To=["onClick"],So={key:0,class:"bg-gray-50 rounded-lg p-4"},jo={class:"text-sm text-gray-700"},Po={key:0,class:"text-center py-12 text-gray-500"},No={class:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Fo={class:"flex items-center justify-between mb-6"},Vo={class:"space-y-4"},Io={class:"text-gray-900"},zo={class:"text-gray-900"},Uo={key:0},Lo={class:"text-gray-900"},Mo={class:"text-gray-900"},Go={key:1},Oo={class:"text-gray-900 whitespace-pre-wrap"},qo={class:"text-gray-900"},Bo={class:"text-gray-900"},Jo=H({__name:"DashboardTraining",setup(S){const h=m(""),d=m(""),g=m(""),v=m([]),c=m(null),b=m(!1),_=m(null),$=I(()=>{let o=v.value;if(d.value&&(o=o.filter(l=>l.status===d.value)),g.value&&(o=o.filter(l=>l.program===g.value)),h.value){const l=h.value.toLowerCase();o=o.filter(t=>t.name.toLowerCase().includes(l)||t.email.toLowerCase().includes(l))}return o}),r=I(()=>v.value.filter(o=>o.status==="pending").length),f=I(()=>v.value.filter(o=>o.status==="confirmed").length),F=I(()=>v.value.filter(o=>{const l=new Date(o.registrationDate||""),t=new Date;return t.setDate(t.getDate()-7),l>=t}).length),A=async()=>{b.value=!0,_.value=null;try{const o=await se.getRegistrations({status:d.value||void 0,program:g.value||void 0,search:h.value||void 0,limit:100});v.value=o.data,console.log("üìö Training Registrations charg√©es:",v.value.length)}catch(o){console.error("Erreur lors du chargement des inscriptions:",o),_.value=o.message||"Erreur lors du chargement des inscriptions",v.value=[]}finally{b.value=!1}},w=o=>{c.value=o},x=async o=>{if(!o.id)return;const l=o.status==="pending"?"confirmed":o.status;try{await se.updateRegistration(o.id,{status:l}),await A()}catch(t){console.error("Erreur lors de la mise √† jour du statut:",t),alert("Erreur lors de la mise √† jour du statut: "+(t.message||"Erreur inconnue"))}},C=async o=>{if(o&&confirm("√ätes-vous s√ªr de vouloir supprimer cette inscription ?"))try{await se.deleteRegistration(o),await A()}catch(l){console.error("Erreur lors de la suppression:",l),alert("Erreur lors de la suppression: "+(l.message||"Erreur inconnue"))}},D=o=>({pending:"En attente",confirmed:"Confirm√©e",cancelled:"Annul√©e",completed:"Termin√©e"})[o]||o,T=o=>({pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700"})[o]||"bg-gray-100 text-gray-700",j=o=>({training1:"Formation en Gestion d'Entreprise",training2:"Accompagnement Personnalis√©",training3:"Formation en Entrepreneuriat",training4:"R√©seautage et Partenariats"})[o]||o,p=o=>o?new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return ce([d,g],()=>{A()}),W(()=>{A()}),(o,l)=>(i(),u("div",lo,[l[30]||(l[30]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Inscriptions aux Formations"),e("p",{class:"text-gray-600 mt-1"},"G√©rez les inscriptions aux formations d'entrepreneurs")],-1)),e("div",ao,[e("div",oo,[l[5]||(l[5]=e("p",{class:"text-sm text-gray-600 mb-1"},"Total",-1)),e("p",ro,n(v.value.length),1)]),e("div",no,[l[6]||(l[6]=e("p",{class:"text-sm text-gray-600 mb-1"},"En attente",-1)),e("p",io,n(r.value),1)]),e("div",uo,[l[7]||(l[7]=e("p",{class:"text-sm text-gray-600 mb-1"},"Confirm√©es",-1)),e("p",co,n(f.value),1)]),e("div",po,[l[8]||(l[8]=e("p",{class:"text-sm text-gray-600 mb-1"},"Nouvelles",-1)),e("p",vo,n(F.value),1)])]),e("div",go,[E(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...l[9]||(l[9]=[O('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="confirmed">Confirm√©e</option><option value="cancelled">Annul√©e</option><option value="completed">Termin√©e</option>',5)])],512),[[J,d.value]]),E(e("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>g.value=t),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...l[10]||(l[10]=[O('<option value="">Tous les programmes</option><option value="training1">Formation en Gestion d&#39;Entreprise</option><option value="training2">Accompagnement Personnalis√©</option><option value="training3">Formation en Entrepreneuriat</option><option value="training4">R√©seautage et Partenariats</option>',5)])],512),[[J,g.value]]),E(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>h.value=t),type:"text",placeholder:"Rechercher...",onInput:A,class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[N,h.value]])]),b.value?(i(),u("div",mo,[...l[11]||(l[11]=[e("i",{class:"fas fa-spinner fa-spin text-3xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des inscriptions...",-1)])])):_.value?(i(),u("div",bo,[e("div",xo,[l[12]||(l[12]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(_.value),1)])])):(i(),u("div",fo,[(i(!0),u(M,null,G($.value,t=>(i(),u("div",{key:t.id,class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300"},[e("div",yo,[e("div",ho,[e("div",wo,[e("h3",$o,n(t.name),1),e("span",{class:z(["px-3 py-1 rounded-full text-xs font-medium",T(t.status)])},n(D(t.status)),3)]),e("p",ko,[l[13]||(l[13]=e("i",{class:"fas fa-envelope mr-2"},null,-1)),V(n(t.email),1)]),t.phone?(i(),u("p",_o,[l[14]||(l[14]=e("i",{class:"fas fa-phone mr-2"},null,-1)),V(n(t.phone),1)])):y("",!0),e("p",Co,[l[15]||(l[15]=e("i",{class:"fas fa-graduation-cap mr-2"},null,-1)),V(n(j(t.program)),1)]),e("p",Do,[l[16]||(l[16]=e("i",{class:"fas fa-calendar mr-2"},null,-1)),V(n(p(t.registrationDate)),1)])]),e("div",Eo,[e("button",{onClick:s=>w(t),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"},[...l[17]||(l[17]=[e("i",{class:"fas fa-eye"},null,-1)])],8,Ao),e("button",{onClick:s=>x(t),class:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors"},[...l[18]||(l[18]=[e("i",{class:"fas fa-check"},null,-1)])],8,Ro),e("button",{onClick:s=>C(t.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[...l[19]||(l[19]=[e("i",{class:"fas fa-trash"},null,-1)])],8,To)])]),t.message?(i(),u("div",So,[e("p",jo,[l[20]||(l[20]=e("strong",null,"Message:",-1)),V(" "+n(t.message),1)])])):y("",!0)]))),128)),$.value.length===0?(i(),u("div",Po," Aucune inscription trouv√©e ")):y("",!0)])),c.value?(i(),u("div",{key:3,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:l[4]||(l[4]=X(t=>c.value=null,["self"]))},[e("div",No,[e("div",Fo,[l[22]||(l[22]=e("h3",{class:"text-2xl font-bold text-gray-900"},"D√©tails de l'inscription",-1)),e("button",{onClick:l[3]||(l[3]=t=>c.value=null),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors"},[...l[21]||(l[21]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Vo,[e("div",null,[l[23]||(l[23]=e("label",{class:"text-sm font-medium text-gray-600"},"Nom complet",-1)),e("p",Io,n(c.value.name),1)]),e("div",null,[l[24]||(l[24]=e("label",{class:"text-sm font-medium text-gray-600"},"Email",-1)),e("p",zo,n(c.value.email),1)]),c.value.phone?(i(),u("div",Uo,[l[25]||(l[25]=e("label",{class:"text-sm font-medium text-gray-600"},"T√©l√©phone",-1)),e("p",Lo,n(c.value.phone),1)])):y("",!0),e("div",null,[l[26]||(l[26]=e("label",{class:"text-sm font-medium text-gray-600"},"Programme",-1)),e("p",Mo,n(j(c.value.program)),1)]),c.value.message?(i(),u("div",Go,[l[27]||(l[27]=e("label",{class:"text-sm font-medium text-gray-600"},"Message",-1)),e("p",Oo,n(c.value.message),1)])):y("",!0),e("div",null,[l[28]||(l[28]=e("label",{class:"text-sm font-medium text-gray-600"},"Date d'inscription",-1)),e("p",qo,n(p(c.value.registrationDate)),1)]),e("div",null,[l[29]||(l[29]=e("label",{class:"text-sm font-medium text-gray-600"},"Statut",-1)),e("p",Bo,n(D(c.value.status)),1)])])])])):y("",!0)]))}}),Yo={class:"space-y-6"},Ho={class:"grid grid-cols-1 sm:grid-cols-4 gap-4"},Wo={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},Qo={class:"text-2xl font-bold text-gray-900"},Ko={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},Xo={class:"text-2xl font-bold text-yellow-600"},Zo={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},er={class:"text-2xl font-bold text-green-600"},tr={class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100"},sr={class:"text-2xl font-bold text-blue-600"},lr={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl"},ar={class:"flex items-center gap-2"},or={key:1,class:"text-center py-12"},rr={key:2,class:"bg-white rounded-xl p-4 shadow-lg border border-gray-100 flex items-center gap-4"},nr={key:3,class:"space-y-4"},ir={class:"flex items-start justify-between mb-4"},ur={class:"flex-1"},dr={class:"flex items-center gap-3 mb-2"},cr={class:"text-lg font-bold text-gray-900"},pr={class:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium"},vr={class:"text-gray-600 mb-1"},gr={class:"text-gray-600 mb-1"},mr={key:0,class:"text-gray-600 mb-1"},br={class:"text-gray-600"},xr={class:"flex gap-2"},fr=["onClick","disabled"],yr=["onClick","disabled"],hr=["onClick","disabled"],wr=["onClick"],$r=["onClick","disabled"],kr={class:"bg-gray-50 rounded-lg p-4"},_r={class:"text-sm text-gray-700 mb-2"},Cr={class:"text-sm text-gray-700 mb-2"},Dr={class:"text-sm text-gray-700"},Er={key:0,class:"text-center py-12 text-gray-500"},Ar={class:"bg-white rounded-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto"},Rr={class:"flex items-center justify-between mb-6"},Tr={class:"space-y-4"},Sr={class:"text-gray-900 font-semibold"},jr={class:"text-gray-900"},Pr={class:"text-gray-900"},Nr={class:"text-gray-900"},Fr={class:"text-gray-900 whitespace-pre-wrap"},Vr={key:0},Ir={class:"text-gray-900"},zr={class:"text-gray-900"},Ur={class:"text-gray-600 text-sm"},Lr={key:0,class:"text-gray-600 text-sm"},Mr={key:1,class:"text-gray-600 text-sm"},Gr={key:1},Or={class:"text-gray-900 whitespace-pre-wrap"},qr={class:"text-gray-900"},Br={class:"text-gray-900"},Jr=H({__name:"DashboardPublications",setup(S){const h=m(""),d=m(""),g=m(""),v=m([]),c=m(null),b=m(!1),_=m(null),$=m(!1),r=I(()=>{let l=v.value;if(d.value&&(l=l.filter(t=>t.status===d.value)),g.value&&(l=l.filter(t=>t.type===g.value)),h.value){const t=h.value.toLowerCase();l=l.filter(s=>s.name.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||s.title.toLowerCase().includes(t))}return l}),f=I(()=>v.value.filter(l=>l.status==="pending").length),F=I(()=>v.value.filter(l=>l.status==="accepted").length),A=I(()=>v.value.filter(l=>l.status==="published").length),w=async()=>{b.value=!0,_.value=null;try{const l=await le.getRequests({status:d.value||void 0,type:g.value||void 0,search:h.value||void 0,limit:100});v.value=l.data}catch(l){console.error("Erreur lors du chargement des demandes:",l),_.value=l.message||"Erreur lors du chargement des demandes",v.value=[]}finally{b.value=!1}},x=l=>{c.value=l},C=async(l,t)=>{if(l.id){$.value=!0,_.value=null;try{await le.updateRequestStatus(l.id,t),await w()}catch(s){console.error("Erreur lors de la mise √† jour:",s);const a=s.message||s.errors?.status?.[0]||"Erreur lors de la mise √† jour du statut";_.value=a,alert(`Erreur: ${a}`)}finally{$.value=!1}}},D=async l=>{if(l&&confirm("√ätes-vous s√ªr de vouloir supprimer cette demande ?")){$.value=!0,_.value=null;try{await le.deleteRequest(l),await w()}catch(t){console.error("Erreur lors de la suppression:",t);const s=t.message||"Erreur lors de la suppression";_.value=s,alert(`Erreur: ${s}`)}finally{$.value=!1}}},T=l=>({pending:"En attente","under-review":"En r√©vision",accepted:"Accept√©e",rejected:"Refus√©e",published:"Publi√©e"})[l]||l,j=l=>({pending:"bg-yellow-100 text-yellow-700","under-review":"bg-blue-100 text-blue-700",accepted:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",published:"bg-purple-100 text-purple-700"})[l]||"bg-gray-100 text-gray-700",p=l=>({article:"Article","research-paper":"Document de recherche",book:"Livre",report:"Rapport",other:"Autre"})[l]||l,o=l=>l?new Date(l).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return W(()=>{w()}),(l,t)=>(i(),u("div",Yo,[t[37]||(t[37]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Demandes de Publication"),e("p",{class:"text-gray-600 mt-1"},"G√©rez les demandes de publication d'articles")],-1)),e("div",Ho,[e("div",Wo,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-600 mb-1"},"Total",-1)),e("p",Qo,n(v.value.length),1)]),e("div",Ko,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mb-1"},"En attente",-1)),e("p",Xo,n(f.value),1)]),e("div",Zo,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600 mb-1"},"Accept√©es",-1)),e("p",er,n(F.value),1)]),e("div",tr,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-600 mb-1"},"Publi√©es",-1)),e("p",sr,n(A.value),1)])]),_.value?(i(),u("div",lr,[e("div",ar,[t[9]||(t[9]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),e("span",null,n(_.value),1)])])):y("",!0),b.value?(i(),u("div",or,[...t[10]||(t[10]=[e("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4"},null,-1),e("p",{class:"text-gray-600"},"Chargement des demandes...",-1)])])):(i(),u("div",rr,[E(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),onChange:w,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...t[11]||(t[11]=[O('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="under-review">En r√©vision</option><option value="accepted">Accept√©e</option><option value="rejected">Refus√©e</option><option value="published">Publi√©e</option>',6)])],544),[[J,d.value]]),E(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),onChange:w,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...t[12]||(t[12]=[O('<option value="">Tous les types</option><option value="article">Article</option><option value="research-paper">Document de recherche</option><option value="book">Livre</option><option value="report">Rapport</option><option value="other">Autre</option>',6)])],544),[[J,g.value]]),E(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>h.value=s),onInput:w,type:"text",placeholder:"Rechercher...",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[N,h.value]])])),b.value?y("",!0):(i(),u("div",nr,[(i(!0),u(M,null,G(r.value,s=>(i(),u("div",{key:s.id,class:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300"},[e("div",ir,[e("div",ur,[e("div",dr,[e("h3",cr,n(s.title),1),e("span",{class:z(["px-3 py-1 rounded-full text-xs font-medium",j(s.status)])},n(T(s.status)),3),e("span",pr,n(p(s.type)),1)]),e("p",vr,[t[13]||(t[13]=e("i",{class:"fas fa-user mr-2"},null,-1)),V(n(s.name),1)]),e("p",gr,[t[14]||(t[14]=e("i",{class:"fas fa-envelope mr-2"},null,-1)),V(n(s.email),1)]),s.institution?(i(),u("p",mr,[t[15]||(t[15]=e("i",{class:"fas fa-university mr-2"},null,-1)),V(n(s.institution),1)])):y("",!0),e("p",br,[t[16]||(t[16]=e("i",{class:"fas fa-calendar mr-2"},null,-1)),V(n(o(s.submissionDate)),1)])]),e("div",xr,[s.status!=="accepted"?(i(),u("button",{key:0,onClick:a=>C(s,"accepted"),disabled:$.value,class:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Accepter"},[...t[17]||(t[17]=[e("i",{class:"fas fa-check"},null,-1)])],8,fr)):y("",!0),s.status!=="rejected"?(i(),u("button",{key:1,onClick:a=>C(s,"rejected"),disabled:$.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Rejeter"},[...t[18]||(t[18]=[e("i",{class:"fas fa-times"},null,-1)])],8,yr)):y("",!0),s.status==="accepted"?(i(),u("button",{key:2,onClick:a=>C(s,"published"),disabled:$.value,class:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",title:"Publier"},[...t[19]||(t[19]=[e("i",{class:"fas fa-check-double"},null,-1)])],8,hr)):y("",!0),e("button",{onClick:a=>x(s),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les d√©tails"},[...t[20]||(t[20]=[e("i",{class:"fas fa-eye"},null,-1)])],8,wr),e("button",{onClick:a=>D(s.id),disabled:$.value,class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Supprimer"},[...t[21]||(t[21]=[e("i",{class:"fas fa-trash"},null,-1)])],8,$r)])]),e("div",kr,[e("p",_r,[t[22]||(t[22]=e("strong",null,"Auteurs:",-1)),V(" "+n(s.authors),1)]),e("p",Cr,[t[23]||(t[23]=e("strong",null,"Domaines:",-1)),V(" "+n(s.domains.join(", ")),1)]),e("p",Dr,[t[24]||(t[24]=e("strong",null,"R√©sum√©:",-1)),V(" "+n(s.abstract?.substring(0,200))+n(s.abstract&&s.abstract.length>200?"...":""),1)])])]))),128)),r.value.length===0?(i(),u("div",Er," Aucune demande trouv√©e ")):y("",!0)])),c.value?(i(),u("div",{key:4,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t[4]||(t[4]=X(s=>c.value=null,["self"]))},[e("div",Ar,[e("div",Rr,[t[26]||(t[26]=e("h3",{class:"text-2xl font-bold text-gray-900"},"D√©tails de la demande",-1)),e("button",{onClick:t[3]||(t[3]=s=>c.value=null),class:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors"},[...t[25]||(t[25]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Tr,[e("div",null,[t[27]||(t[27]=e("label",{class:"text-sm font-medium text-gray-600"},"Titre du travail",-1)),e("p",Sr,n(c.value.title),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-sm font-medium text-gray-600"},"Auteurs",-1)),e("p",jr,n(c.value.authors),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"text-sm font-medium text-gray-600"},"Type",-1)),e("p",Pr,n(p(c.value.type)),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"text-sm font-medium text-gray-600"},"Domaines de recherche",-1)),e("p",Nr,n(c.value.domains.join(", ")),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"text-sm font-medium text-gray-600"},"R√©sum√©",-1)),e("p",Fr,n(c.value.abstract),1)]),c.value.keywords?(i(),u("div",Vr,[t[32]||(t[32]=e("label",{class:"text-sm font-medium text-gray-600"},"Mots-cl√©s",-1)),e("p",Ir,n(c.value.keywords),1)])):y("",!0),e("div",null,[t[33]||(t[33]=e("label",{class:"text-sm font-medium text-gray-600"},"Auteur principal",-1)),e("p",zr,n(c.value.name),1),e("p",Ur,n(c.value.email),1),c.value.institution?(i(),u("p",Lr,n(c.value.institution),1)):y("",!0),c.value.position?(i(),u("p",Mr,n(c.value.position),1)):y("",!0)]),c.value.message?(i(),u("div",Gr,[t[34]||(t[34]=e("label",{class:"text-sm font-medium text-gray-600"},"Message compl√©mentaire",-1)),e("p",Or,n(c.value.message),1)])):y("",!0),e("div",null,[t[35]||(t[35]=e("label",{class:"text-sm font-medium text-gray-600"},"Date de soumission",-1)),e("p",qr,n(o(c.value.submissionDate)),1)]),e("div",null,[t[36]||(t[36]=e("label",{class:"text-sm font-medium text-gray-600"},"Statut",-1)),e("p",Br,n(T(c.value.status)),1)])])])])):y("",!0)]))}}),Yr={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/20"},Hr={class:"flex"},Wr={class:"h-full flex flex-col overflow-y-auto custom-scrollbar"},Qr={class:"flex-1 p-4 space-y-1"},Kr=["onClick"],Xr={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"},Zr={class:"font-semibold text-sm tracking-wide flex-1 text-left"},en={class:"p-4 pt-2 border-t border-slate-200/60 bg-gradient-to-t from-slate-50/50 to-transparent mt-auto"},tn=["disabled"],sn={class:"w-5 h-5 flex items-center justify-center"},ln={key:0,class:"fas fa-sign-out-alt text-base group-hover:translate-x-0.5 transition-transform"},an={key:1,class:"fas fa-spinner fa-spin text-base"},on={class:"font-semibold text-sm"},rn={class:"flex-1 ml-0 lg:ml-72 transition-all duration-500"},nn={class:"sticky top-0 bg-white/80 backdrop-blur-xl border-b border-slate-200/80 shadow-sm z-30"},un={class:"px-4 sm:px-6 lg:px-8 py-5"},dn={class:"flex items-center justify-between"},cn={class:"flex items-center gap-4"},pn={class:"text-2xl font-bold text-slate-900 tracking-tight"},vn={key:0,class:"p-4 sm:p-6 lg:p-8"},gn={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8"},mn={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8"},bn={class:"relative"},xn={class:"flex items-center justify-between mb-4"},fn={class:"text-3xl font-bold text-slate-900 mb-1.5 tracking-tight"},yn={class:"text-sm font-medium text-slate-600"},hn={class:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-900/5 border border-slate-200/60 mb-8"},wn={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},$n=["onClick"],kn={class:"w-12 h-12 rounded-xl bg-blue-100 group-hover:bg-blue-600 flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:rotate-3"},_n={class:"font-semibold text-slate-900 group-hover:text-blue-600 transition-colors"},Cn={class:"p-4 sm:p-6 lg:p-8"},Dn=H({__name:"DashboardView",setup(S){me();const h=xe(),d=m(!1),g=m("overview"),v=m(!1),c=I(()=>h.menuItems),b=I(()=>h.statsWithChange),_=m([{id:"1",label:"Nouvel √©v√©nement",icon:"fas fa-plus-circle",section:"events"},{id:"2",label:"Nouvelle actualit√©",icon:"fas fa-plus-circle",section:"actualites"},{id:"3",label:"Ajouter photo",icon:"fas fa-plus-circle",section:"gallery"},{id:"4",label:"Voir messages",icon:"fas fa-envelope",section:"newsletter"}]),$=()=>{const j=c.value.find(p=>p.id===g.value);return j?j.label:"Dashboard"},r=async()=>{if(confirm("√ätes-vous s√ªr de vouloir vous d√©connecter ?")){v.value=!0;try{await ge.logout()}catch(j){console.error("Erreur lors de la d√©connexion:",j)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/"},500)}}},f=()=>{window.innerWidth>=1024?d.value=!0:d.value=!1},F=j=>{const p=j.target;window.innerWidth<1024&&d.value&&!p.closest("aside")&&!p.closest("button")&&(d.value=!1)},{loadOverviewStats:A,loadNotificationCounts:w,refreshAll:x}=h;let C=null;const D=()=>{x()},T=()=>{A(!0)};return W(async()=>{f(),window.addEventListener("resize",f),document.addEventListener("click",F),(async()=>{await A(),w().catch(p=>{console.warn("Erreur lors du chargement des notifications:",p)})})(),window.addEventListener("dashboard:update-notifications",D),window.addEventListener("dashboard:update-stats",T),C=window.setInterval(()=>{h.isCacheValid||x()},3e4)}),pe(()=>{window.removeEventListener("resize",f),document.removeEventListener("click",F),window.removeEventListener("dashboard:update-notifications",D),window.removeEventListener("dashboard:update-stats",T),C&&clearInterval(C)}),(j,p)=>(i(),u("div",Yr,[e("div",Hr,[e("aside",{class:z(["fixed left-0 top-0 h-screen w-72 bg-gradient-to-b from-white to-slate-50/50 backdrop-blur-2xl border-r border-slate-200/80 shadow-2xl shadow-slate-900/5 z-40 transition-all duration-500 ease-out",{"-translate-x-full lg:translate-x-0":!d.value,"translate-x-0":d.value}])},[e("div",Wr,[p[3]||(p[3]=O('<div class="p-6 pb-4 border-b border-slate-200/60 bg-gradient-to-r from-blue-600/5 to-indigo-600/5" data-v-ca79b314><div class="flex items-center gap-3 mb-2" data-v-ca79b314><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30" data-v-ca79b314><i class="fas fa-chart-line text-white text-lg" data-v-ca79b314></i></div><div data-v-ca79b314><h2 class="text-xl font-bold text-slate-900 tracking-tight" data-v-ca79b314>Dashboard</h2><p class="text-xs text-slate-500 font-medium" data-v-ca79b314>CReFF-PME</p></div></div></div>',1)),e("nav",Qr,[(i(!0),u(M,null,G(c.value,o=>(i(),u("button",{key:o.id,onClick:l=>{g.value=o.id,d.value=!1},class:"w-full group relative"},[e("div",{class:z(["flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 relative overflow-hidden",g.value===o.id?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/40 scale-[1.02]":"text-slate-700 hover:bg-slate-100/80 hover:text-blue-600 hover:translate-x-1"])},[g.value===o.id?(i(),u("div",Xr)):y("",!0),e("div",{class:z(["w-5 h-5 flex items-center justify-center transition-transform duration-300",g.value===o.id?"scale-110":"group-hover:scale-110"])},[e("i",{class:z([o.icon,"text-base"])},null,2)],2),e("span",Zr,n(o.label),1),o.badge?(i(),u("span",{key:1,class:z(["ml-auto px-2.5 py-1 rounded-full text-xs font-bold min-w-[24px] text-center transition-all duration-300",g.value===o.id?"bg-white/20 text-white backdrop-blur-sm":"bg-red-500 text-white shadow-md shadow-red-500/30 group-hover:scale-110"])},n(o.badge),3)):y("",!0)],2)],8,Kr))),128))]),e("div",en,[p[2]||(p[2]=O('<div class="mb-3 px-4" data-v-ca79b314><div class="flex items-center gap-3 p-3 rounded-xl bg-slate-100/60 border border-slate-200/60" data-v-ca79b314><div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-md" data-v-ca79b314><i class="fas fa-user text-white text-sm" data-v-ca79b314></i></div><div class="flex-1 min-w-0" data-v-ca79b314><p class="text-sm font-semibold text-slate-900 truncate" data-v-ca79b314>Administrateur</p><p class="text-xs text-slate-500 truncate" data-v-ca79b314>creff.pme.uk@gmail.com</p></div></div></div>',1)),e("button",{onClick:r,disabled:v.value,class:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-700 hover:bg-red-50 hover:text-red-600 transition-all duration-300 group border border-transparent hover:border-red-200 relative z-10 disabled:opacity-50 disabled:cursor-not-allowed"},[e("div",sn,[v.value?(i(),u("i",an)):(i(),u("i",ln))]),e("span",on,n(v.value?"D√©connexion...":"D√©connexion"),1)],8,tn)])])],2),d.value?(i(),u("div",{key:0,onClick:p[0]||(p[0]=o=>d.value=!1),class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden transition-opacity duration-300"})):y("",!0),e("main",rn,[e("header",nn,[e("div",un,[e("div",dn,[e("div",cn,[e("button",{onClick:p[1]||(p[1]=o=>d.value=!d.value),class:"lg:hidden p-2.5 rounded-xl text-slate-700 hover:bg-slate-100 transition-all duration-200 hover:scale-105"},[...p[4]||(p[4]=[e("i",{class:"fas fa-bars text-lg"},null,-1)])]),e("div",null,[e("h1",pn,n($()),1),p[5]||(p[5]=e("p",{class:"text-sm text-slate-500 mt-0.5"},"Gestion et administration",-1))])]),p[6]||(p[6]=O('<div class="flex items-center gap-4" data-v-ca79b314><button class="relative p-2.5 rounded-xl text-slate-600 hover:bg-slate-100 transition-all duration-200 hover:scale-105" data-v-ca79b314><i class="fas fa-bell text-lg" data-v-ca79b314></i><span class="absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full ring-2 ring-white" data-v-ca79b314></span></button><div class="hidden sm:flex items-center gap-3 px-4 py-2 rounded-xl bg-slate-50 border border-slate-200/60" data-v-ca79b314><div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center" data-v-ca79b314><i class="fas fa-user text-white text-xs" data-v-ca79b314></i></div><div data-v-ca79b314><p class="text-sm font-semibold text-slate-900" data-v-ca79b314>Admin</p><p class="text-xs text-slate-500" data-v-ca79b314>En ligne</p></div></div></div>',1))])])]),g.value==="overview"?(i(),u("div",vn,[ve(h).isLoading&&b.value.length===0?(i(),u("div",gn,[(i(),u(M,null,G(4,o=>e("div",{key:o,class:"group relative bg-white rounded-2xl p-6 shadow-lg shadow-slate-900/5 border border-slate-200/60 animate-pulse"},[...p[7]||(p[7]=[O('<div class="flex items-center justify-between mb-4" data-v-ca79b314><div class="w-14 h-14 rounded-2xl bg-gray-200" data-v-ca79b314></div><div class="w-12 h-6 bg-gray-200 rounded-full" data-v-ca79b314></div></div><div class="h-8 bg-gray-200 rounded mb-2" data-v-ca79b314></div><div class="h-4 bg-gray-200 rounded w-2/3" data-v-ca79b314></div>',3)])])),64))])):(i(),u("div",mn,[(i(!0),u(M,null,G(b.value,o=>(i(),u("div",{key:o.id,class:"group relative bg-white rounded-2xl p-6 shadow-lg shadow-slate-900/5 border border-slate-200/60 hover:shadow-xl hover:shadow-slate-900/10 hover:-translate-y-1 transition-all duration-300 overflow-hidden"},[p[8]||(p[8]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-transparent to-blue-50/0 group-hover:to-blue-50/30 transition-all duration-300 pointer-events-none"},null,-1)),e("div",bn,[e("div",xn,[e("div",{class:z(["w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3",o.bgColor])},[e("i",{class:z([o.icon,o.iconColor,"text-2xl"])},null,2)],2),e("span",{class:z(["text-xs font-bold px-2.5 py-1 rounded-full shadow-sm",o.badgeColor])},n(o.change),3)]),e("h3",fn,n(o.value),1),e("p",yn,n(o.label),1)])]))),128))])),e("div",hn,[p[9]||(p[9]=e("div",{class:"flex items-center gap-2 mb-6"},[e("div",{class:"w-1 h-6 bg-gradient-to-b from-blue-600 to-indigo-600 rounded-full"}),e("h3",{class:"text-xl font-bold text-slate-900"},"Actions rapides")],-1)),e("div",wn,[(i(!0),u(M,null,G(_.value,o=>(i(),u("button",{key:o.id,onClick:l=>g.value=o.section,class:"group flex items-center gap-4 p-5 rounded-xl border-2 border-slate-200 hover:border-blue-500 hover:bg-gradient-to-br hover:from-blue-50 hover:to-indigo-50 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/10 hover:-translate-y-0.5"},[e("div",kn,[e("i",{class:z([o.icon,"text-blue-600 group-hover:text-white text-lg transition-colors"])},null,2)]),e("span",_n,n(o.label),1)],8,$n))),128))])])])):y("",!0),e("div",Cn,[g.value==="events"?(i(),K(rt,{key:0})):y("",!0),g.value==="event-registrations"?(i(),K(Cs,{key:1})):y("",!0),g.value==="actualites"?(i(),K(il,{key:2})):y("",!0),g.value==="gallery"?(i(),K(Ul,{key:3})):y("",!0),g.value==="newsletter"?(i(),K(da,{key:4})):y("",!0),g.value==="financing"?(i(),K(so,{key:5})):y("",!0),g.value==="training"?(i(),K(Jo,{key:6})):y("",!0),g.value==="publications"?(i(),K(Jr,{key:7})):y("",!0)])])])]))}}),An=be(Dn,[["__scopeId","data-v-ca79b314"]]);export{An as default};
